@using SIS_Ga2.Entity
@using SIS_Ga2.Controllers

@model IEnumerable<SIS_Ga2.Entity.Proyecto>
@{
    //Layout = null;

    ViewBag.Title = "Diseno";
    string DisenoId = Session["DisenoId"].ToString();
    BEUsuario usuario = Session["sistema.usuario"] as BEUsuario;
    Proyecto GetProyecto = Session["sistema.proyecto"] as Proyecto;
    Sistema sistema = Session["sistema.general"] as Sistema;
    if (sistema == null)
    {
        Response.Redirect(Url.Action("Login", "Seguridad"));
        return;
    }
}


<input type="hidden" id="hidTipoDiseno" value="@sistema.idTipoDiseno" />
<input type="hidden" id="hidId_Prop_Factor_Distrib" />
<input type="hidden" id="hid_Id_Repet_Equi" value="0" />

@*Obtenemos el diseñoId que se genera al guardar un ProyDiseno en la tabla*@
<input type="hidden" id="hidDisenoId" value="@DisenoId" />


<div class="col-lg-12">
    <div class="card">
        <div class="card-header d-flex align-items-center">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    @*<li class="breadcrumb-item active" aria-current="page">Registro de Parámetros: < @DisenoId ></li>*@
                    <li class="breadcrumb-item active" aria-current="page">Registro de Parámetros: < @sistema.TipoDiseno ></li>
                </ol>
            </nav>
        </div>
        <div class="card-body">
            @*<button class="prevtab btn btn-primary">Prev</button>
                <button class="nexttab btn btn-danger">Next</button>*@


            <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="Proy-tab" data-toggle="tab" href="#Proy" role="tab" aria-controls="Proy" aria-selected="true">Parámetros de Diseño</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="Cap-tab" data-toggle="tab" href="#Cap" role="tab" aria-controls="Cap" aria-selected="false">Capas de Pavimento</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="Param-tab" data-toggle="tab" href="#Param" role="tab" aria-controls="Param" aria-selected="false">Coeficientes</a>
                </li>
            </ul>

            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="Proy" role="tabpanel" aria-labelledby="Proy-tab">
                    <form class="form-inline">
                        <div class="row">
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Periodo de Diseño</label>
                                @Html.DropDownList("ddlPeriodoDisenoParam", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Cantidad de ESAL&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#EsalModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtCantidadESAL" type="text" placeholder="Cantidad de ESAL" class="mr-3 col-sm-10 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                                @*<button type="button" id="btnCalcularEsal" class="btn btn-primary btn-sm" onclick="location.href='@Url.Action("Index", "ParamEsal")'"><span class="fa fa-etsy"></span></button>*@
                                <button type="button" id="btnCalcularEsal" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#Esal_Modal"><span class="fa fa-etsy"></span></button>
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Confiabilidad (R%)&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoconfiab" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ConfiabilidadModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtConfiab" type="text" placeholder="Confiabilidad (R%)" class="mr-3 col-sm-10 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Desviación Estándar Normal (ZR)</label>
                                <input id="txtDesvEstandar" data-id="4" type="text" placeholder="Desviación Estándar Normal (ZR)" readonly="readonly" class="column_filter mr-3 col-sm-12 form-control form-control-sm">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Error de Comb.Estándar (SO)</label>
                                <input id="txtErrorComb" data-id="4" type="text" placeholder="Error de Comb.Estándar (SO)" class="column_filter mr-3 col-sm-12 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>

                            @*Implementacion Concreto*@

                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Resistencia a la Comprensión (f'c)</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ResistComprensionModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtResistComp" data-id="4" type="text" placeholder="Resistencia a la Comprensión (f'c)" class="column_filter mr-3 col-sm-12 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Módulo de Rotura (MR)&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ModRoturaModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtModRotura" data-id="1" type="text" placeholder="Módulo de Rotura (MR)" readonly="readonly" class="column_filter mr-3 col-sm-10 form-control form-control-sm">
                                <button type="button" id="btnEvaluaModRotura" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#EvaluaResilenciaModal"><span class="fa fa-cog"></span></button>
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Módulo de Elasticidad (Ec)</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ModElasticidadModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtModElasticidad" data-id="4" type="text" placeholder="Módulo de Elasticidad (Ec)" class="column_filter mr-3 col-sm-12 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Coeficiente de Transferencia (J)</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#CoefTransferenciaModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtCoefTransferencia" data-id="4" type="text" placeholder="Coeficiente de Transferencia (J)" class="column_filter mr-3 col-sm-12 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Módulo de Reacción (Kc)&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ModReaccionModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtModReaccion" data-id="1" type="text" placeholder="Módulo de Reacción (Kc)" readonly="readonly" class="column_filter mr-3 col-sm-10 form-control form-control-sm">
                                <button type="button" id="btnEvaluaModRotura" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#EvaluaResilenciaModal"><span class="fa fa-cog"></span></button>
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Coeficiente de Drenaje (Cd)&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#CoefDrenajeModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtCoefDrenaje" data-id="1" type="text" placeholder="Coeficiente de Drenaje (Cd)" readonly="readonly" class="column_filter mr-3 col-sm-10 form-control form-control-sm">
                                <button type="button" id="btnEvaluaModRotura" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#EvaluaResilenciaModal"><span class="fa fa-cog"></span></button>
                            </div>
                            @*Implementacion Concreto*@


                            @*<div class="form-group col-md-5">
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Módulo de Resilencia (Subrasante)&nbsp;&nbsp;&nbsp;</label>
                                    <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ResilenciaModal"><i class="fa fa-question-circle"></i></button>
                                    <input id="txtModResilenciaSub" data-id="1" type="text" placeholder="Módulo de Resilencia (Subrasante)" readonly="readonly" class="column_filter mr-3 col-sm-10 form-control form-control-sm">
                                    <button type="button" id="btnEvaluaResilencia" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#EvaluaResilenciaModal"><span class="fa fa-cog"></span></button>
                                </div>*@
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Servicialidad Inicial&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ServInicialModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtServInicial" type="text" placeholder="Servicialidad Inicial" class="mr-3 col-sm-12 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Servicialidad Final&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ServFinalModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtServFinal" type="text" placeholder="Servicialidad Final" class="mr-3 col-sm-12 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                            </div>
                            <div class="form-group col-md-5">
                                <label for="inlineFormInput" class="col-form-label col-form-label-sm">Diferencia de Servicialidad (∆PSI)&nbsp;&nbsp;&nbsp;</label>
                                <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#DifServModal"><i class="fa fa-question-circle"></i></button>
                                <input id="txtDifServ" data-id="4" type="text" placeholder="Diferencia de Servicialidad (∆PSI)" readonly="readonly" class="column_filter mr-3 col-sm-12 form-control form-control-sm">
                            </div>

                        </div>
                    </form>
                    <div class="card-footer">
                        <div class=" clearfix">
                            <div class="p-0">
                                <div class="btn-group float-left" role="group" aria-label="Basic example">
                                </div>
                            </div>
                            <div class="p-0">
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnSiguiente_a" class="btn btn-primary"><span class="fa fa-arrow-right"></span> Siguiente</button>
                                </div>
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    &nbsp;
                                </div>
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnCancelar_a" class="btn btn-secondary"><span class="fa fa-ban"></span> Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="Cap" role="tabpanel" aria-labelledby="Cap-tab">
                    <div class="table-responsive">
                        <div class="form-group col-md-8">
                        </div>
                        <table border="0" cellspacing="0" cellpadding="0" style="width:100%;">
                            <tr>
                                <td width="160px" rowspan="4">
                                    <div class="form-group col-md-6 text-lg-right">
                                        <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#BaseSubModal"><i class="fa fa-question-circle"></i></button>
                                        <img src="~/Content/images/asfalto_1.jpg" width="200" height="180" class="">
                                    </div>
                                </td>
                                <td width="70px"></td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">ME</label>
                                        <div class="form-inline">
                                            <input id="txtME" data-id="4" type="text" value="450,000" placeholder="ME" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#MEModal"><i class="fa fa-question-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">California Bearing Ratio (CBR)</label>
                                        <div class="form-inline">
                                            <input id="txtCBR_1" data-id="1" type="text" value="80.00" placeholder="California Bearing Ratio (CBR" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#CBR_1_Modal"><i class="fa fa-question-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" id="btninfoCBR" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#infoCBRModal">
                                        <img src="~/Content/images/asfalto_2.jpg" width="70" height="90" class="">
                                    </button>
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">California Bearing Ratio (CBR)</label>
                                        <div class="form-inline">
                                            <input id="txtCBR_2" data-id="1" type="text" value="40.00" placeholder="California Bearing Ratio (CBR)" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#CBR_2_Modal"><i class="fa fa-question-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">California Bearing Ratio (CBR)</label>
                                        <div class="form-inline">
                                            <input id="txtCBR_3" data-id="1" type="text" value="10.00" placeholder="California Bearing Ratio (CBR)" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#CBR_3_Modal"><i class="fa fa-question-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Módulo de Rotura PSI</label>
                                        <div class="form-inline">
                                            <input id="txtModRoturaPSI" data-id="1" type="text" readonly="readonly" placeholder="Módulo de Rotura PSI" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#MR_Modal"><i class="fa fa-question-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">&nbsp;&nbsp;&nbsp;</td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <div class="text-center">
                                        <img src="~/Content/images/img_b.jpg">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">&nbsp;&nbsp;&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">N18 Nominal</label>
                                        <div class="form-inline">
                                            <input id="txtN18Nominal" data-id="1" type="text" readonly="readonly" placeholder="N18 Nominal" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                        </div>
                                    </div>
                                </td>
                                <td align="center">
                                    <img src="~/Content/icon/equal.png" style="width:17%; height:17%;">
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">N18 Calculado</label>
                                        <input id="txtN18Calculado" data-id="1" type="text" readonly="readonly" placeholder="N18 Calculado" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">S/N Requerido</label>

                                        <div class="form-inline">
                                            <input id="txtSNRequerido" data-id="1" type="text" readonly="readonly" placeholder="S/N Requerido" class="column_filter mr-1 col-sm-6 form-control form-control-sm">
                                            <button type="button" id="btnIgualarSNRequerido" class="btn btn-success btn-sm"><span class="fa fa-exchange"></span> Igualar</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12">
                                        <div class="form-inline">
                                            <input id="txtGT" data-id="1" type="text" readonly="readonly" value="Gt" placeholder="" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                        </div>
                                    </div>
                                </td>
                                <td align="center" valign="top">
                                    <img src="~/Content/icon/equal.png" style="width:17%; height:17%;">
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <input id="txtN18Calculado2" data-id="1" type="text" readonly="readonly" placeholder="" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                    </div>
                    <div class="card-header">
                        <div class=" clearfix">
                            <div class="p-0">
                                <div class="btn-group float-left" role="group" aria-label="Basic example">
                                </div>
                            </div>
                            <div class="p-0">
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnSiguiente_b" class="nexttab btn btn-primary"><span class="fa fa-arrow-right"></span> Siguiente</button>
                                </div>
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    &nbsp;
                                </div>
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnCancelar_b" class="btn btn-secondary"><span class="fa fa-ban"></span> Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="Param" role="tabpanel" aria-labelledby="Param-tab">
                    <div class="table-responsive">
                        <div class="form-group col-md-8">
                        </div>
                        <table border="0" cellspacing="0" cellpadding="0" style="width:100%;">
                            <tr>
                                <td width="200px">
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Coeficientes Estructuras de Capas</label>
                                    </div>
                                </td>
                                <td width="200px">&nbsp;</td>
                                <td width="200px">
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Coeficientes Drenaje de Capas</label>
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Concreto Asfáltico Conv.</label>
                                        <div class="form-inline">
                                            <input id="txtCoefConcrAsfal" data-id="4" type="text" value="0.44" readonly="readonly" placeholder="Concreto Asfáltico Convencional" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            @*<button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#ConcretoAsfalticoModal"><i class="fa fa-question-circle"></i></button>*@
                                            <button type="button" id="btnCalcularEsal" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#ConcretoAsfalticoModal"><span class="fa fa-ellipsis-h"></span></button>
                                        </div>
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Base Granular (m2)</label>
                                        <div class="form-inline">
                                            <input id="txtBaseGranularm2" data-id="4" type="text" readonly="readonly" placeholder="Base Granular (m2)" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            @*<button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#"><i class="fa fa-question-circle"></i></button>*@
                                        </div>
                                    </div>
                                </td>
                                <td rowspan="2">
                                    @*<img src="~/Content/images/LlaveDerecha.png" width="40" height="150">
                                        &nbsp;*@
                                    <button type="button" id="btnDrenajeCapas" style="height:50px;" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#infoDrenajePrincipalModal"><span class="fa fa-th-large"></span> Seleccione</button>
                                </td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Base Granular (a2)</label>
                                        <div class="form-inline">
                                            <input id="txtBaseGranulara2" data-id="4" type="text" readonly="readonly" placeholder="Base Granular (a2)" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            @*<button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#BaseGranularModal"><i class="fa fa-question-circle"></i></button>*@
                                            <button type="button" id="btnCalcularEsal" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#BaseGranularModal"><span class="fa fa-ellipsis-h"></span></button>
                                        </div>
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Sub-base (m3)</label>
                                        <div class="form-inline">
                                            <input id="txtSubBasem3" data-id="4" type="text" readonly="readonly" placeholder="Sub-base (m3)" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            @*<button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#"><i class="fa fa-question-circle"></i></button>*@
                                        </div>
                                    </div>
                                </td>
                                @*<td>&nbsp;</td>*@
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Sub-base (a3)</label>
                                        <div class="form-inline">
                                            <input id="txtSubBasea3" data-id="4" type="text" readonly="readonly" placeholder="Sub-base (m3)" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            @*<button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#SubBaseModal"><i class="fa fa-question-circle"></i></button>*@
                                            <button type="button" id="btnCalcularEsal" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#SubBaseModal"><span class="fa fa-ellipsis-h"></span></button>
                                        </div>
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">S/N PROPUESTO</label>
                                        <div class="form-inline">
                                            <input id="txtErrorComb" data-id="4" type="text" placeholder="S/N PROPUESTO" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                            <img src="~/Content/icon/" style="width:10%; height:10%;">
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">S/N REQUERIDO</label>
                                        <input id="txtErrorComb" data-id="4" type="text" placeholder="S/N REQUERIDO" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                    </div>
                                </td>
                                <td width="260px" rowspan="3" colspan="2">
                                    <div class="text-left">
                                        <img src="~/Content/images/img_c.jpg" width="270" height="180">
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td width="210px" rowspan="4">
                                    <div class="form-group col-md-6 text-lg-right">
                                        <img src="~/Content/images/img_a.jpg" width="220" height="300" class="">
                                    </div>
                                <td>
                                    <div class="form-group col-md-12 text-md-center">
                                        <input id="txtErrorComb" data-id="4" type="text" placeholder="" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12 text-md-center">
                                        <input id="txtErrorComb" data-id="4" type="text" placeholder="" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>
                                    <div class="form-group col-md-12">
                                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">SN Req.</label>
                                        <input id="txtErrorComb" data-id="4" type="text" placeholder="SN Requerido" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12 text-md-center">
                                        <input id="txtErrorComb" data-id="4" type="text" placeholder="" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="form-group col-md-12 text-md-center">
                                        <input id="txtErrorComb" data-id="4" type="text" placeholder="" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                    </div>
                                </td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                    </div>
                    <div class="card-header">
                        <div class=" clearfix">
                            <div class="p-0">
                                <div class="btn-group float-left" role="group" aria-label="Basic example">
                                </div>
                            </div>
                            <div class="p-0">
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnSiguiente_c" class="btn btn-primary"><span class="fa fa-arrow-right"></span> Siguiente</button>
                                </div>
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    &nbsp;
                                </div>
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnCancelar_c" class="btn btn-secondary"><span class="fa fa-ban"></span> Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Modal-->
    <!-- ESAL-->
    <div class="modal fade" id="EsalModal" tabindex="-1" role="dialog" aria-labelledby="EsalModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">ESAL</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Cantidad de repeticiones del eje de carga de 8,2 tn para un periodo de diseño.
                                        Es decir, número que representa el volumen de tránsito del carril de diseño. Se calcula a partir del IMD.
                                    </p>
                                </td>
                                @*<td></td>
                                    <td></td>
                                    <td></td>*@
                            </tr>
                            <tr>
                                <td>
                                    <img src="~/Content/images/param_esal_1.jpg" style="width:100%; height:70%;" />
                                </td>
                                <td></td>
                                <td></td>
                                <td><img src="~/Content/images/param_esal_2.jpg" style="width:100%; height:70%;" /></td>
                            </tr>
                            @*<tr>
                                    <td>

                                    </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>*@
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- CONFIABILIDAD-->
    <div class="modal fade" id="ConfiabilidadModal" tabindex="-1" role="dialog" aria-labelledby="ConfiabilidadModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">INDICE DE CONFIANZA (R%) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Probabilidad de que el pavimento diseñado se comporte de manera satisfactoria
                                        durante el periodo de diseño.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- RESISTENCIA A LA COMPRENSION-->
    <div class="modal fade" id="ResistComprensionModal" tabindex="-1" role="dialog" aria-labelledby="ResistComprensionModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">RESISTENCIA A LA COMPRENSIÓN (f'c) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Esfuerzo máximo que puede soportar un materialbajo una carga de aplastamiento.
                                        Se recomiendan las siguientes correlaciones entre el Módulo de Rotura y la
                                        resistencia a la comprensión.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODULO DE ROTURA-->
    <div class="modal fade" id="ModRoturaModal" tabindex="-1" role="dialog" aria-labelledby="ModRoturaModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">MR</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Expresa la resistencia a la flexión debido a que los pavimentos de concreto
                                        trabajan principalmente a flexión es que se relacion este parámetro con la resistencia
                                        a la comprensión.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODULO DE ELASTICIDAD-->
    <div class="modal fade" id="ModElasticidadModal" tabindex="-1" role="dialog" aria-labelledby="ModElasticidadModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">EC</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Pendiente Fórmula.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- COEFICIENTE DE TRANSFERENCIA-->
    <div class="modal fade" id="CoefTransferenciaModal" tabindex="-1" role="dialog" aria-labelledby="CoefTransferenciaModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">TRANSFERENCIA DE CARGA (J) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Parámetro que expresa la capacidad de la estructura como transmitora de cargas
                                        entre juntas y fisuras.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODULO DE REACCION-->
    <div class="modal fade" id="ModReaccionModal" tabindex="-1" role="dialog" aria-labelledby="ModReaccionModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">MÓDULO DE REACCIÓN COMBINADA (Kc) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Parámetro que determina la presión que se debe ejercer para lograr cierta 
                                        deformacion. Puede contemplarse en capas intermedias granulares o tratadas
                                        como solo la capa de la subrasante.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- COEFICIENTE DE DRENAJE-->
    <div class="modal fade" id="CoefDrenajeModal" tabindex="-1" role="dialog" aria-labelledby="CoefDrenajeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">COEFICIENTE DE DRENAJE (Cd) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Parámetro que representa la probabilidad de que la estructura bajo la losa
                                        de concreto mantenga agua libre o humedad por un cierto tiempo.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>



    <!-- RESILENCIA-->
    <div class="modal fade" id="ResilenciaModal" tabindex="-1" role="dialog" aria-labelledby="ResilenciaModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">MODULO DE RESILENCIA (MR)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Es el índice que describe la relación no lineal de esfuerzos - deformaciones
                                        de los suelos bajo carga repetida.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>





    <!-- SERVICIALIDAD INICIAL-->
    <div class="modal fade" id="ServInicialModal" tabindex="-1" role="dialog" aria-labelledby="ServInicialModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">INDICE DE SERVICIALIDAD INICIAL (Pi)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="2">
                                    <p align="justify">
                                        Condición original del pavimento inmediatamente después de su construcción o rehabilitación.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>
                                        Pavimentos Flexibles 4.2&nbsp;&nbsp;&nbsp;
                                    </p>
                                    <p>
                                        Pavimentos Rígidos 4.5&nbsp;&nbsp;&nbsp;
                                    </p>
                                </td>
                                <td align="right">
                                    <img src="~/Content/images/param_esal_3.jpg" style="width:80%; height:70%;" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SERVICIALIDAD FINAL-->
    <div class="modal fade" id="ServFinalModal" tabindex="-1" role="dialog" aria-labelledby="ServFinalModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">INDICE DE SERVICIALIDAD FINAL (Pt)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Condición en la cual el pavimento no cumple con las expectativas de comodidad
                                        y seguridad exigidas por el usuario.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- DIFERENCIA DE SERVICIALIDAD-->
    <div class="modal fade" id="DifServModal" tabindex="-1" role="dialog" aria-labelledby="DifServModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">INDICE DE SERVICIALIDAD INICIAL (∆PSI) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td>
                                    <img src="~/Content/images/param_esal_4.jpg" style="width:100%; height:70%;" />
                                </td>
                                <td align="right">
                                    <img src="~/Content/images/param_esal_5.jpg" style="width:90%; height:60%;" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>


    <!-- SUBMODAL --- EVALUA RESILENCIA SUBRASANTE-->
    <div class="modal fade" id="EvaluaResilenciaModal" tabindex="-1" role="dialog" aria-labelledby="EvaluaResilenciaModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">MÓDULO DE RESILENCIA </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td align="left">
                                    <b>
                                        <label>CBR (SUBRASANTE) :</label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Colocar el CBR (%) </label>
                                </td>
                                <td>
                                    <input id="txtCBR" type="text" placeholder="CBR" class="mr-3 col-sm-6 form-control form-control-sm input-number">
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <b>
                                        <label>Cálculo de MR (Subrasante) :</label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left" style="color:#FF0000">
                                    <label>MR(psi) = 2,555*CBR^0.64 </label>
                                </td>
                                <td>
                                    <input id="txtMR" type="text" placeholder="MR" readonly="readonly" class="mr-3 col-sm-10 form-control form-control-sm mascara">
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        * El cálculo se está realizando en base al CBR de la Subrasante.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnCalcularMR" class="btn btn-primary">Aplicar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>



    <!-- BASE SUB-BASE SUB-RASANTE -->
    <div class="modal fade" id="BaseSubModal" tabindex="-1" role="dialog" aria-labelledby="BaseSubModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">INFORMACIÓN </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td>
                                    <img src="~/Content/images/pavimento_1.jpg" style="width:100%; height:70%;" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ME -->
    <div class="modal fade" id="MEModal" tabindex="-1" role="dialog" aria-labelledby="MEModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">MÓDULO DE ELÁSTICO (ME) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="center">
                                        Es la medida de la tenacidad y rigidez del material o su capacidad elástica.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- CBR 1 -->
    <div class="modal fade" id="CBR_1_Modal" tabindex="-1" role="dialog" aria-labelledby="CBR_1_ModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">CBR (BASE) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Para carreteras con un tráfico en EE menores o igual a 10,000,000; el CBR
                                        de la base debe ser mínimo 80%.
                                    </p>
                                    <p align="justify">
                                        Para carreteras con un tráfico en EE mayores a 10,000,000; el CBR
                                        de la base debe ser mínimo 80%.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- CBR 2 -->
    <div class="modal fade" id="CBR_2_Modal" tabindex="-1" role="dialog" aria-labelledby="CBR_2_ModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:550px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">CBR (SUB BASE) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        El CBR debe ser mayor o igual a 40%.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- CBR 3 -->
    <div class="modal fade" id="CBR_3_Modal" tabindex="-1" role="dialog" aria-labelledby="CBR_3_ModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:660px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">CBR (SUB RASANTE) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td>
                                    <img src="~/Content/images/pavimento_2.jpg" style="width:100%; height:90%;" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODULO DE RESILENCIA (MR) -->
    <div class="modal fade" id="MR_Modal" tabindex="-1" role="dialog" aria-labelledby="MR_ModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">MÓDULO DE RESILENCIA (MR) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="4">
                                    <p align="justify">
                                        Es el índice que describe la relación no lineal de esfuerzos - deformaciones de los
                                        suelos bajo cargas repetidas.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- info CBR MODAL -->
    <div class="modal fade" id="infoCBRModal" tabindex="-1" role="dialog" aria-labelledby="infoCBRModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">CBR</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td colspan="2">
                                    <p align="justify">
                                        CBR (California Bearing Ratio): Evalúa la calidad del suelo por medio de la
                                        resistencia al esfuerzo cortante. Se efectúa bajo condiciones controladas de humedad
                                        y densidad.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">CUADRO CBR</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">GRÁFICO CBR</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                            <p> &nbsp; &nbsp; &nbsp;</p>
                                            <img src="~/Content/images/asfalto_3.jpg" style="width:100%; height:70%;" />
                                        </div>
                                        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab" style="text-align:center;">
                                            <p> &nbsp; &nbsp; &nbsp;</p>
                                            <img src="~/Content/images/asfalto_4.jpg" style="width:70%; height:100%;" />
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Modals para Evaluar ESAL -->

    <div class="modal fade" id="Esal_Modal" tabindex="-1" role="dialog" aria-labelledby="Esal_ModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document" style="margin-right: 80px; margin-left: 260px;">
            <div class="modal-content" style="width:800px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Cálculo de Repeticiones de Ejes Equivalentes </h5>
                    <button type="button" class="btn btn-sm btn-outline-primary" data-dismiss="modal">
                        <span class="fa fa-arrow-left"></span> Regresar
                    </button>
                </div>
                <div class="modal-body">
                    @*<div class="card-body">*@
                    <form class="form-inline">
                        <div class="row">
                            <div class="form-group col-md-4">
                                <label for="FdxFc" class="col-form-label col-form-label-sm">Fd x Fc :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <input id="FdxFc" type="text" readonly="readonly" placeholder="Fd x Fc" class="mr-3 col-sm-8 form-control form-control-sm">
                                <button type="button" id="btnFdxFc" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#SubModal_2"><span class="fa fa-flask"></span></button>
                            </div>
                            <div class="form-group col-md-4">
                                <label id="lblTasaCrecimiento" for="TasaCrecimiento" class="col-form-label col-form-label-sm">Tasa de Crecimiento (%) :</label>
                                <input id="TasaCrecimiento" type="text" readonly="readonly" placeholder="T.Crecimiento" class="mr-3 col-sm-9 form-control form-control-sm">
                                <button type="button" id="btnTasaCrecimiento" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#SubModal_4"><span class="fa fa-percent"></span></button>

                                <button type="button" id="btnIrVariableConstante" class="btn btn-primary" style="display:none;" data-toggle="modal" data-target="#SubModal_VariableConstante">Click</button>
                                <button type="button" id="btnIrVariableTiempo" class="btn btn-primary" style="display:none;" data-toggle="modal" data-target="#SubModal_VariableTiempo">Click</button>
                                <button type="button" id="btnIrVariableVehiculo" class="btn btn-primary" style="display:none;" data-toggle="modal" data-target="#SubModal_VariableVehiculo">Click</button>

                            </div>
                            <div class="form-group col-md-4">
                                <label for="PeriodoDiseno" class="col-form-label col-form-label-sm">Periodo de Diseño :</label>
                                <input id="PeriodoDiseno" type="text" readonly="readonly" placeholder="Periodo" class="mr-3 col-sm-10 form-control form-control-sm">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="DiasAno" class="col-form-label col-form-label-sm">Días del Año :</label>
                                <input id="DiasAno" type="text" placeholder="Días del Año" value="365" class="mr-3 col-sm-10 form-control form-control-sm">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="Fp" class="col-form-label col-form-label-sm">Fp :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                <div class="form-inline">
                                    <input id="Fp" type="text" placeholder="Fp" value="1.00" class="mr-3 col-sm-6 form-control form-control-sm">
                                    <button type="button" id="btnFP" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#SubModal_3"><span class="fa fa-flask"></span></button>
                                </div>
                            </div>
                        </div>
                    </form>
                    @*</div>*@
                    <div class="card-header">
                        <div class="clearfix">
                            <div class="p-0">
                                <div class="btn-group float-left" role="group" aria-label="Basic example">
                                    <button type="button" id="btnNuevo" class="btn btn-outline-primary small" data-toggle="modal" data-target="#SubModal"><span class="fa fa-square-o"></span> Nuevo</button>
                                    @*<button type="button" id="btnEditar" class="btn btn-outline-success small"><span class="fa fa-pencil-square-o"></span> Editar</button>
                                        <button type="button" id="btnEliminar" class="btn btn-outline-danger small" data-id="3" data-toggle="modal" data-target="#deleteModal"><span class="icon-close"></span> Eliminar</button>*@
                                </div>
                            </div>
                            <div class="p-0">
                                <div class="btn-group float-right" role="group" aria-label="Basic example">
                                    <button type="button" id="btnCalcularEE" class="btn btn-primary small"><span class="fa fa-spinner"></span> Calcular EE</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-header">
                        <div class="clearfix">
                            <div class="p-0">
                                <div class="btn-group float-left" role="group" aria-label="Basic example">
                                </div>
                            </div>
                            <div class="p-0">
                                <div class="float-right" role="group" aria-label="Basic example">
                                    <label style="color:#FF0000; font-family:'Berlin Sans FB'; font-size:medium" id="ValorGeneradoEE" for="inlineFormInput" class="col-form-label col-form-label-sm">VALOR EE</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-body">
                        <div class="table-responsive">
                            <table id="dgvListadoVehiculosIMD" class="display" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th class="text-sm-center" id="Id_Vehiculos_IMD">Cod</th>
                                        <th class="text-sm-center" id="Id_Diseno">Id_Dis</th>
                                        <th class="text-sm-center" id="Id_Repet_Equivalentes">Equiv.</th>

                                        <th class="text-sm-center" id="Id_Vehiculos">Id</th>
                                        <th class="text-sm-center" id="ruta_imagen">VistaPreviaVehiculo</th>
                                        <th class="text-sm-center" id="Vehiculos">Tipo_Vehículo</th>
                                        <th class="text-sm-center" id="IMD_Base">IMD_Base</th>
                                        <th class="text-sm-center" id="Tipo_Eje_E1">E1</th>
                                        <th class="text-sm-center" id="Peso_Tonelada_E1">Peso_E1</th>
                                        <th class="text-sm-center" id="Tipo_Eje_E2">E2</th>
                                        <th class="text-sm-center" id="Peso_Tonelada_E2">Peso_E2</th>
                                        <th class="text-sm-center" id="Tipo_Eje_E3">E3</th>
                                        <th class="text-sm-center" id="Peso_Tonelada_E3">Peso_E3</th>
                                        <th class="text-sm-center" id="Tipo_Eje_E4">E4</th>
                                        <th class="text-sm-center" id="Peso_Tonelada_E4">Peso_E4</th>
                                        <th class="text-sm-center" id="Tipo_Eje_E5">E4</th>
                                        <th class="text-sm-center" id="Peso_Tonelada_E5">Peso_E5</th>
                                        <th class="text-sm-center" id="Valor_FVP">Valor_FVP</th>
                                        <th class="text-sm-center" id="Valor_EE">Valor_EE</th>
                                        <th class="text-sm-center" id="Opc">Opc.</th>
                                    </tr>
                                </thead>

                            </table>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="SubModal" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Calculo de EE</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Tipo Vehiculo</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTipoVehiculo", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm" })
                                </td>
                                <td width="230px" rowspan="4" colspan="2">
                                    <div class="form-group col-md-6 text-lg-right">
                                        <img id="img_vehiculo" src="~/Content/images/Vehiculo_Moto_L3.jpg" width="250" height="200" class="">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Vehiculo</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlVehiculo", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm" })
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">IMD Base</label>
                                </td>
                                <td>
                                    <input id="txtIMDBase" data-id="4" type="text" placeholder="IMD Base" class="column_filter mr-1 col-sm-8 form-control form-control-sm">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Tipo Eje 1</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTipoEje_1", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm", @disabled = "disabled" })
                                </td>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Peso Eje 1</label>
                                </td>
                                <td>
                                    <input id="txtPesoEje_1" data-id="4" type="text" disabled="disabled" placeholder="Peso Eje 1" class="column_filter mr-1 col-sm-8 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Tipo Eje 2</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTipoEje_2", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm", @disabled = "disabled" })
                                </td>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Peso Eje 2</label>
                                </td>
                                <td>
                                    <input id="txtPesoEje_2" data-id="4" type="text" disabled="disabled" placeholder="Peso Eje 2" class="column_filter mr-1 col-sm-8 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Tipo Eje 3</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTipoEje_3", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm", @disabled = "disabled" })
                                </td>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Peso Eje 3</label>
                                </td>
                                <td>
                                    <input id="txtPesoEje_3" data-id="4" type="text" disabled="disabled" placeholder="Peso Eje 3" class="column_filter mr-1 col-sm-8 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Tipo Eje 4</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTipoEje_4", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm", @disabled = "disabled" })
                                </td>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Peso Eje 4</label>
                                </td>
                                <td>
                                    <input id="txtPesoEje_4" data-id="4" type="text" disabled="disabled" placeholder="Peso Eje 4" class="column_filter mr-1 col-sm-8 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Tipo Eje 5</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTipoEje_5", null, new { @class = "mr-3 col-sm-10 form-control form-control-sm", @disabled = "disabled" })
                                </td>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Peso Eje 5</label>
                                </td>
                                <td>
                                    <input id="txtPesoEje_5" data-id="4" type="text" disabled="disabled" placeholder="Peso Eje 5" class="column_filter mr-1 col-sm-8 form-control form-control-sm" onkeypress="return filterFloat(event,this);">
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">FVP</label>
                                </td>
                                <td>
                                    <input id="txtFVP" data-id="4" type="text" readonly="readonly" placeholder="FVP" class="column_filter mr-1 col-sm-10 form-control form-control-sm">
                                </td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnGuardarVehiculoIMD" class="btn btn-primary"><span class="fa fa-floppy-o"></span> Guardar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="SubModal_2" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">FACTORES DE DISTRIBUCION </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Número Calzadas</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlCalzada", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                </td>
                                <td width="400px" rowspan="3" colspan="2">
                                    <div class="form-group col-md-6 text-lg-right">
                                        <img id="img_calzadacarril" src="/Content/images/calzadas/NoImage.png" width="200" height="200" class="">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Número de Sentidos</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlNumSentido", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Carril por Sentido</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlCarrilxSentido", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Propuesta: </label>
                                </td>
                                <td colspan="2">
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Escribir el Valor: </label>
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Fd x Fc</label>
                                </td>
                                <td>
                                    <input id="FdxFc_Calculado" data-id="4" type="text" placeholder="Fd x Fc" readonly="readonly" class="column_filter mr-1 col-sm-8 form-control form-control-sm mascara">
                                </td>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Fd x Fc</label>
                                </td>
                                <td>
                                    <input id="FdxFc_Ingresado" data-id="4" type="text" placeholder="Fd x Fc" class="column_filter mr-1 col-sm-8 form-control form-control-sm mascara">
                                </td>

                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnGuardarFdxFc" class="btn btn-primary small"><span class="fa fa-road"></span> Guardar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="SubModal_3" tabindex="-1" role="dialog" aria-labelledby="EvaluaResilenciaModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">CÁLCULO FP </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td align="left" style="color:#FF0000">
                                    <b>
                                        <label>*Si conoce el Espesor y la Presión Neumática </label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Espesor </label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlEspesor", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Presión </label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlPresion", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Fp (Calculado) </label>
                                </td>
                                <td>
                                    <input id="txtFpCalculado" type="text" readonly="readonly" class="mr-3 col-sm-6 form-control form-control-sm input-number">
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left" style="color:#FF0000">
                                    <b>
                                        <label>*Valor Recomendado </label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Fp (Recomendado) </label>
                                </td>
                                <td>
                                    <input id="txtFpRecomendado" type="text" value="1.00" readonly="readonly" class="mr-3 col-sm-6 form-control form-control-sm input-number">
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Ingrese Valor FP </label>
                                </td>
                                <td>
                                    <input id="txtvalorFp" type="text" class="mr-3 col-sm-6 form-control form-control-sm input-number mascara">
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>

                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAceptarFp" class="btn btn-primary">Aceptar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="SubModal_4" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document" style="margin-right: 80px; margin-left: 330px;">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">TASA DE CRECIMIENTO (%) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td>
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Selecciona el Tipo de Tasa de Crecimiento</label>
                                </td>
                                <td>
                                    @Html.DropDownList("ddlTasaCrecimiento", null, new { @class = "mr-3 col-sm-12 form-control form-control-sm" })
                                </td>
                                <td>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAceptarTasa" class="btn btn-primary small"><span class="fa fa-road"></span> Aceptar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="SubModal_VariableConstante" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog " role="document" style="margin-right: 80px; margin-left: 450px;">
            <div class="modal-content" style="width:400px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">T. CRECIMIENTO CONSTANTE (%) </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td style="color:#FF0000">
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Escribe el Valor (%): </label>
                                </td>
                                <td align="right">
                                    <input id="ValorTasaCrecConstante" type="text" placeholder="T.Crecimiento" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAceptarTasaCrecConstante" class="btn btn-primary small"><span class="fa fa-road"></span> Aceptar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SubModal_VariableTiempo" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:550px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Tasa de Crecimiento - Variable por Tiempo </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        @*</div>
                            <div class="table-responsive">*@
                        <table id="dgvListadoVariableTiempo" class="display" cellspacing="0" align="left" width="500px">
                            <thead>
                                <tr>
                                    <th class="text-sm-center" id="Id">Id</th>
                                    <th class="text-sm-center" id="Anio">Periodo - Año</th>
                                    <th class="text-sm-center" id="Valor">Valor (R%)</th>
                                    <th class="text-sm-center" id="Reporte">Opc</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <div class="modal-footer">
                        <label for="inlineFormInput" class="col-form-label col-form-label-sm">Total (%): </label>
                        <input id="ValorTotalCrecxTiempo" readonly="readonly" type="text" class="mr-3 col-sm-2 form-control form-control-sm mascara">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAceptarTasaCrecxTiempo" class="btn btn-primary small"><span class="fa fa-road"></span> Aceptar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SubModal_VariableVehiculo" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:600px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Tasa de Crecimiento - Variable por Vehículo </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table id="dgvListadoVariableVehiculo" class="display" cellspacing="0" align="left" width="550px">
                            <thead>
                                <tr>
                                    <th class="text-sm-center" id="Id">Id</th>
                                    <th class="text-sm-center" id="Vehiculo">Tipo Vehículo</th>
                                    <th class="text-sm-center" id="Valor">Valor (R%)</th>
                                    <th class="text-sm-center" id="Valor">Opc</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <input id="ValorTotalCrecxVehiculo" style="display:none;" readonly="readonly" type="text" class="mr-3 col-sm-2 form-control form-control-sm mascara">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAceptarTasaCrecxVehiculo" class="btn btn-primary small"><span class="fa fa-road"></span> Aceptar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SubModal_EditorVariableTiempo" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog " role="document" style="margin-right: 80px; margin-left: 450px;">
            <div class="modal-content" style="width:400px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Editor Variable por Tiempo </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td style="color:#FF0000">
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Escribe el Valor (%): </label>
                                </td>
                                <td align="right">
                                    <input id="ValorTasaCrecxTiempo" type="text" placeholder="T.Crecimiento" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAgregarTasaCrecxTiempo" class="btn btn-primary small"><span class="fa fa-road"></span> Aceptar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SubModal_EditorVariableVehiculo" tabindex="-1" role="dialog" aria-labelledby="SubModalLabel" aria-hidden="true">
        <div class="modal-dialog " role="document" style="margin-right: 80px; margin-left: 450px;">
            <div class="modal-content" style="width:400px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Editor Variable por Vehiculo </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td style="color:#FF0000">
                                    <label for="inlineFormInput" class="col-form-label col-form-label-sm">Escribe el Valor (%): </label>
                                </td>
                                <td align="right">
                                    <input id="ValorTasaCrecxVehiculo" type="text" placeholder="T.Crecimiento" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAgregarTasaCrecxVehiculo" class="btn btn-primary small"><span class="fa fa-road"></span> Aceptar</button>
                    <button type="button" class="btn btn-secondary small" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>




    <!-- info Concreto Asfáltico Conv. -->
    <div class="modal fade" id="ConcretoAsfalticoModal" tabindex="-1" role="dialog" aria-labelledby="ConcretoAsfalticoModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">CONCRETO ASFÁLTICO  CONVENCIONAL (a1)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td align="left">
                                    <b>
                                        <label>COEFICIENTE DE CAPA PARA EL CONCRETO ASFÁLTICO: </label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td rowspan="2">
                                    <img src="~/Content/images/coeficiente_1.jpg" style="width:100%; height:70%;" />
                                </td>
                                <td></td>
                                <td colspan="2" style="text-align:center;">
                                    <label>Se recomienda un coeficiente de 0.44/pulg </label>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td style="color:#FF0000">
                                    <label>Escribe el valor: </label>
                                </td>
                                <td>
                                    <input id="txtCoefConcrAsfalModal" type="text" placeholder="" class="mr-3 col-sm-6 form-control form-control-sm input-number mascara">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnCoefConcrAsfal" class="btn btn-primary btn-sm">Aplicar</button>
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- info Base Granular -->
    <div class="modal fade" id="BaseGranularModal" tabindex="-1" role="dialog" aria-labelledby="BaseGranularModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">BASE GRANULAR (a2)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td align="left">
                                    <b>
                                        <label>COEFICIENTE DE CAPA PARA BASE GRANULAR: </label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td rowspan="2" width="350px">
                                    <img src="~/Content/images/coeficiente_2.jpg" style="width:100%; height:70%;" />
                                </td>
                                <td></td>
                                <td colspan="4" style="text-align:left;">
                                    <p>*Se recomienda un coeficiente de 0.44/pulg</p>
                                    <p>*La fórmula que correlaciona el MR del CBR con el a2 es: </p>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td style="text-align:right;">
                                    <label>a2 =</label>
                                </td>
                                <td>
                                    <label>0.249*logMr - 0.977</label>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td style="text-align:right;">
                                    <label>a2 =</label>
                                </td>
                                <td>
                                    <input id="txta2" type="text" readonly="readonly" placeholder="" class="mr-3 col-sm-6 form-control form-control-sm input-number">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <br />
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td align="right" style="color:#FF0000">
                                    <label>Escribe el valor: </label>
                                </td>
                                <td>
                                    <input id="txtBaseGranularModal" type="text" placeholder="" class="mr-3 col-sm-6 form-control form-control-sm input-number mascara">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnBaseGranular" class="btn btn-primary btn-sm">Aplicar</button>
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- info Sub-Base -->
    <div class="modal fade" id="SubBaseModal" tabindex="-1" role="dialog" aria-labelledby="SubBaseModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">SUB BASE (a3)</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td align="left">
                                    <b>
                                        <label>COEFICIENTE DE CAPA PARA BASE GRANULAR: </label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td rowspan="2" width="350px">
                                    <img src="~/Content/images/coeficiente_2.jpg" style="width:100%; height:70%;" />
                                </td>
                                <td></td>
                                <td colspan="4" style="text-align:left;">
                                    <p>*Se recomienda un coeficiente de 0.11/pulg</p>
                                    <p>*La fórmula que correlaciona el MR del CBR con el a3 es: </p>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td style="text-align:right;">
                                    <label>a3 =</label>
                                </td>
                                <td>
                                    <label>0.227*logMr - 0.839</label>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td style="text-align:right;">
                                    <label>a3 =</label>
                                </td>
                                <td>
                                    <input id="txta3" type="text" readonly="readonly" placeholder="" class="mr-3 col-sm-6 form-control form-control-sm input-number">
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <br />
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td align="right" style="color:#FF0000">
                                    <label>Escribe el valor: </label>
                                </td>
                                <td>
                                    <input id="txtSubBasea3Modal" type="text" placeholder="" class="mr-3 col-sm-6 form-control form-control-sm input-number mascara">
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnSubBase" class="btn btn-primary btn-sm">Aplicar</button>
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>





    <!-- info Drenaje Principal - Drenaje Tiempo / Drenaje Porcentaje -->

    <div class="modal fade" id="infoDrenajePrincipalModal" tabindex="-1" role="dialog" aria-labelledby="infoDrenajePrincipalModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document" style="margin-right: 80px; margin-left: 280px;">
            <div class="modal-content" style="width:800px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">COEFICIENTES </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table-responsive" border="0" cellspacing="0" cellpadding="4" style="width:auto;">
                            <tr>
                                <td align="left" style="color:#FF0000">
                                    <b>
                                        <label>BASE GRANULAR(m2): </label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Calidad de Drenaje </label>
                                </td>
                                <td>
                                    <div class="form-group col-md-10">
                                        <div class="form-inline">
                                            @Html.DropDownList("ddlCalidadDrenaje", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#infoDrenajeTiempoModal"><i class="fa fa-info-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                                <td align="left" rowspan="2">
                                    <label>Coeficiente de Drenaje de la Base Granular </label>
                                </td>
                                <td rowspan="2">
                                    <input id="txtPorcDrenajeBase" type="text" readonly="readonly" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                </td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Porcentaje de Exposición a Saturación </label>
                                </td>
                                <td>
                                    <div class="form-group col-md-10">
                                        <div class="form-inline">
                                            <input id="txtPorcDrenajeBaseIng" type="text" value="20.00" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#infoDrenajePorcentajeModal"><i class="fa fa-info-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left" style="color:#FF0000">
                                    <b>
                                        <label>SUBBASE GRANULAR(m3):</label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Calidad de Drenaje de la Sub Base Granular </label>
                                </td>
                                <td>
                                    <div class="form-group col-md-10">
                                        <div class="form-inline">
                                            @Html.DropDownList("ddlCalidadDrenajeSubBase", null, new { @class = "mr-3 col-sm-8 form-control form-control-sm" })
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#infoDrenajeTiempoModal"><i class="fa fa-info-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                                <td align="left">
                                    <label>Coeficiente de Drenaje de la Sub Base Granular </label>
                                </td>
                                <td>
                                    <input id="txtPorcDrenajeSubBase" type="text" readonly="readonly" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                </td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Porcentaje de Exposición a Saturación </label>
                                </td>
                                <td>
                                    <div class="form-group col-md-10">
                                        <div class="form-inline">
                                            <input id="txtPorcDrenajeSubBaseIng" type="text" value="25.00" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                            <button type="button" id="btninfoesal" class="btn btn-toolbar btn-sm" data-toggle="modal" data-target="#infoDrenajePorcentajeModal"><i class="fa fa-info-circle"></i></button>
                                        </div>
                                    </div>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left" style="color:#FF0000">
                                    <b>
                                        <label>(ESCRIBE LOS VALORES)</label>
                                    </b>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Coeficiente de Drenaje de la Base Granular (m2) </label>
                                </td>
                                <td>
                                    <div class="form-group col-md-10">
                                        <div class="form-inline">
                                            <input id="txtPorcDrenajeInput" type="text" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                        </div>
                                    </div>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td align="left">
                                    <label>Coeficiente de Drenaje de la Sub Base Granular (m3) </label>
                                </td>
                                <td>
                                    <div class="form-group col-md-10">
                                        <div class="form-inline">
                                            <input id="txtPorcDrenajeSubBaseInput" type="text" class="mr-3 col-sm-8 form-control form-control-sm mascara">
                                        </div>
                                    </div>
                                </td>
                                <td></td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnFinalizaCoeficientes" class="btn btn-primary">Finalizar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="infoDrenajeTiempoModal" tabindex="-1" role="dialog" aria-labelledby="infoDrenajeTiempoModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document" style="margin-right: 80px; margin-left: 450px;">
            <div class="modal-content" style="width:450px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">COEFICIENTE</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table id="dgvDrenajeTiempo" class="display" cellspacing="0">
                            <thead>
                                <tr>
                                    <th class="text-sm-center" id="CalidadDrenaje">Calidad de Drenaje</th>
                                    <th class="text-sm-center" id="EliminaTiempoElimAgua">Tiempo de Eliminación del Agua en</th>
                                </tr>
                            </thead>

                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="infoDrenajePorcentajeModal" tabindex="-1" role="dialog" aria-labelledby="infoDrenajePorcentajeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document" style="margin-right: 80px; margin-left: 250px;">
            <div class="modal-content" style="width:850px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">COEFICIENTE</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table id="dgvDrenajePorcentaje" class="display" cellspacing="0">
                            <thead>
                                <tr>
                                    <th class="text-sm-center">*</th>
                                    <th class="text-sm-center" colspan="8">
                                        Porcentaje de tiempo anual en que la
                                        estructura del pavimento está expuesta a niveles cercanos a saturación
                                    </th>
                                </tr>
                                <tr>
                                    @*<th class="text-sm-center" id="Id_Porc_Estruc_Pavimento">Id</th>*@
                                    <th class="text-sm-center" id="CalidadDrenaje">Calidad_Drenaje</th>
                                    <th class="text-sm-center" id="Desde_0">Desde 0%</th>
                                    <th class="text-sm-center" id="Hasta_1">Hasta 1%</th>
                                    <th class="text-sm-center" id="Desde_1">Desde 1%</th>
                                    <th class="text-sm-center" id="Hasta_5">Hasta 5%</th>
                                    <th class="text-sm-center" id="Desde_5">Desde 5%</th>
                                    <th class="text-sm-center" id="Hasta_25">Hasta 25%</th>
                                    <th class="text-sm-center" id="Desde_25">Desde 25%</th>
                                    <th class="text-sm-center" id="Hasta_Mas">Hasta Mas</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>



</div>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


<script src="~/Scripts/jquery-3.3.1.js"></script>


<script src="Scripts/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.13.4/jquery.mask.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {




        $('.mascara').mask("#,##0.00", { reverse: true }); //Aplica la mascara
        $('.SoloNumeros').mask("99", { reverse: true }); //Aplica la mascara

        document.getElementById("PeriodoDiseno").value = $("#ddlPeriodoDisenoParam :selected").text();

        var Calzada = document.getElementById("ddlCalzada").value;
        var CarrilxSentido = document.getElementById("ddlCarrilxSentido").value;
        var NumSentido = document.getElementById("ddlNumSentido").value;

        var strId_Repet_Equivalentes = 0;

        var VariableTiempoId_Tasa_Crec_X_Tiempo;
        var VariableTiempoNroAnio;
        var VariableVehiculoId_Tasa_Crec_X_Vehiculo;
        var VariableVehiculoId_Tipo_Vehiculo;




        obtenerFactorDistrib(Calzada, NumSentido, CarrilxSentido);


        //Limpiar Parmaretros
        $("#btnCancelar_a").click(function () {
            document.getElementById("txtCantidadESAL").value = '';
            document.getElementById("txtConfiab").value = '';
            document.getElementById("txtErrorComb").value = '';
            document.getElementById("txtModResilenciaSub").value = '';
            document.getElementById("txtServInicial").value = '';
            document.getElementById("txtServFinal").value = '';
            document.getElementById("txtDifServ").value = '';
            document.getElementById("txtDesvEstandar").value = '';
        });

        $("#btnSiguiente_a").click(function () {


            //Validamos campos vacíos
            varConfiabilidad = document.getElementById("txtConfiab").value;
            if (varConfiabilidad == '') {
                toastr.error("Ingrese Confiabilidad!", 'ERROR', { timeOut: 2000 });
                return;
            }

            varModResilenciaSub = document.getElementById("txtModResilenciaSub").value;
            if (varModResilenciaSub == '') {
                toastr.error("Ingrese Módulo de Resilencia!", 'ERROR', { timeOut: 2000 });
                return;
            }

            varServInicial = document.getElementById("txtServInicial").value;
            if (varServInicial == '') {
                toastr.error("Ingrese Servicialidad Inicial", 'ERROR', { timeOut: 2000 });
                return;
            }

            varServFinal = document.getElementById("txtServFinal").value;
            if (varServFinal == '') {
                toastr.error("Ingrese Servicialidad Final", 'ERROR', { timeOut: 2000 });
                return;
            }

            varCantidadESAL = document.getElementById("txtCantidadESAL").value;
            if (varCantidadESAL == '') {
                toastr.error("Ingrese Cantidad de ESAL", 'ERROR', { timeOut: 2000 });
                return;
            }

            varErrorComb = document.getElementById("txtErrorComb").value;
            if (varErrorComb == '') {
                toastr.error("Ingrese Error de Comb.Estándar", 'ERROR', { timeOut: 2000 });
                return;
            }
            //Validamos campos vacíos



            var i, j, items = $('.nav-link'), pane = $('.tab-pane');
            j = 2;
            i = 0;
            $(items[j]).removeClass('active');
            $(items[j + 1]).addClass('active');
            // for pane
            $(pane[i]).removeClass('show active');
            $(pane[i + 1]).addClass('show active');




            CantidadESAL = document.getElementById("txtCantidadESAL").value;
            DesviEstandar = document.getElementById("txtDesvEstandar").value;
            DifServiciabilidad = document.getElementById("txtDifServ").value;
            ErrorCombiEstandar = document.getElementById("txtErrorComb").value;
            valorMR = document.getElementById("txtModRoturaPSI").value;


            if (CantidadESAL == '') {
                CantidadESAL = 0;
            }

            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/calcularN18Nom',
                    data: { 'CantESAL': CantidadESAL },
                    success: function (respuesta) {

                        document.getElementById("txtN18Nominal").value = roundNumber(respuesta);

                    },
                    error: function (xhr, status) {
                        alert("PLOP");
                    }

                });


            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/calcularN18Calc2',
                    data: { 'DifServiciabilidad': DifServiciabilidad },
                    success: function (respuesta) {

                        document.getElementById("txtN18Calculado2").value = roundNumber(respuesta);

                    },
                    error: function (xhr, status) {
                        alert("PLOP");
                    }

                });



            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/calcularN18Calc1',
                    data: { 'ErrorCombiEstandar': ErrorCombiEstandar, 'DesviEstandar': DesviEstandar, 'valorMR': valorMR, 'DifServiciabilidad': DifServiciabilidad },
                    success: function (respuesta) {

                        document.getElementById("txtN18Calculado").value = roundNumber(respuesta);

                    },
                    error: function (xhr, status) {
                        alert("PLOP");
                    }

                });


        });


        $("#ddlPeriodoDisenoParam").change(function () {

            document.getElementById("PeriodoDiseno").value = $("#ddlPeriodoDisenoParam :selected").text();

            LimpiarVariableTiempo();
        });



        $("#btnIgualarSNRequerido").click(function () {

            $(this).html(`<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Generando...`);


            ErrorCombiEstandar = document.getElementById("txtErrorComb").value;
            DesviEstandar = document.getElementById("txtDesvEstandar").value;

            valorMR = document.getElementById("txtModRoturaPSI").value;
            N18Calc = document.getElementById("txtN18Calculado").value;
            N18Calc2 = document.getElementById("txtN18Calculado2").value;
            N18Nominal = document.getElementById("txtN18Nominal").value;


            if (ErrorCombiEstandar == '') {
                toastr.error("Ingrese ErrorCombiEstandar!", 'ERROR', { timeOut: 2000 });
                $(this).html(`<span class="fa fa-exchange"></span> Igualar`);
                return;
            }
            if (DesviEstandar == '') {
                toastr.error("Ingrese DesviEstandar!", 'ERROR', { timeOut: 2000 });
                $(this).html(`<span class="fa fa-exchange"></span> Igualar`);
                return;
            }
            if (valorMR == '') {
                toastr.error("Ingrese valorMR!", 'ERROR', { timeOut: 2000 });
                $(this).html(`<span class="fa fa-exchange"></span> Igualar`);
                return;
            }
            if (N18Calc == '') {
                toastr.error("Ingrese N18Calc!", 'ERROR', { timeOut: 2000 });
                $(this).html(`<span class="fa fa-exchange"></span> Igualar`);
                return;
            }
            if (N18Calc2 == '') {
                toastr.error("Ingrese N18Calc2!", 'ERROR', { timeOut: 2000 });
                $(this).html(`<span class="fa fa-exchange"></span> Igualar`);
                return;
            }
            if (N18Nominal == '') {
                toastr.error("Ingrese N18Nominal!", 'ERROR', { timeOut: 2000 });
                $(this).html(`<span class="fa fa-exchange"></span> Igualar`);
                return;
            }


            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/calcularSNReq',
                    data: { 'ErrorCombiEstandar': ErrorCombiEstandar, 'DesviEstandar': DesviEstandar, 'valorMR': valorMR, 'N18Calc': N18Calc, 'N18Calc2': N18Calc2, 'N18Nominal': N18Nominal },
                    success: function (respuesta) {

                        document.getElementById("txtSNRequerido").value = respuesta;
                        $('#btnIgualarSNRequerido').html(`<span class="fa fa-exchange"></span> Igualar`);

                        document.getElementById("txtN18Calculado").value = document.getElementById("txtN18Nominal").value;//N18Calculado se iguala a N18Nominal


                    },
                    error: function (xhr, status) {
                        alert("PLOP");
                    }

                });

        });



        $("#txtConfiab").keyup(function (e) {

            strConf = document.getElementById("txtConfiab").value;

            if (strConf == '') {
                toastr.error("Ingrese Confiabilidad!", 'ERROR', { timeOut: 2000 });
                return;
            }

            if (strConf > 99) {
                toastr.warning("Ingrese un valor menor a 100", 'ADVERTENCIA', { timeOut: 2000 });
                document.getElementById("txtConfiab").value = '';
                return;
            }

            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/CalcularDesviacionEstandar',
                    data: { 'ValorConfiabilidad': strConf },
                    success: function (respuesta) {

                        document.getElementById("txtDesvEstandar").value = respuesta;

                    },
                    error: function (xhr, status) {
                        alert("PLOP");
                    }

                });

        });


        $("#txtServInicial").keyup(function (e) {

            DiferenciaServicialidad();
        });

        $("#txtServFinal").keyup(function (e) {

            DiferenciaServicialidad();
        });


        $("#btnEvaluaResilencia").click(function () {
            document.getElementById("txtCBR").value = '';
            document.getElementById("txtMR").value = '';
            document.getElementById("txtModResilenciaSub").value = '';
        });

        $("#btnCalcularMR").click(function () {
            document.getElementById("txtModResilenciaSub").value = delimitNumbers(document.getElementById("txtMR").value);
            document.getElementById("txtModRoturaPSI").value = delimitNumbers(document.getElementById("txtMR").value);

            $("#EvaluaResilenciaModal .close").click();
        });

        $("#txtCBR").keyup(function (e) {
            strCBR = document.getElementById("txtCBR").value;

            if (strCBR == '') {
                document.getElementById("txtMR").value = '';
                return;
            }

            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/CalcularResilenciaCON',
                    data: { 'CBR': strCBR },
                    success: function (respuesta) {

                        //alert(respuesta);

                        document.getElementById("txtMR").value = delimitNumbers(respuesta);
                    },
                    error: function (xhr, status) {
                        alert("PLOP");
                    }

                });
        });


        $("#ddlCalzada").change(function () {

            var Calzada = document.getElementById("ddlCalzada").value;
            var CarrilxSentido = document.getElementById("ddlCarrilxSentido").value;
            var NumSentido = document.getElementById("ddlNumSentido").value;

            obtenerFactorDistrib(Calzada, NumSentido, CarrilxSentido);


        });
        $("#ddlCarrilxSentido").change(function () {

            var Calzada = document.getElementById("ddlCalzada").value;
            var CarrilxSentido = document.getElementById("ddlCarrilxSentido").value;
            var NumSentido = document.getElementById("ddlNumSentido").value;

            obtenerFactorDistrib(Calzada, NumSentido, CarrilxSentido);

        });
        $("#ddlNumSentido").change(function () {

            var Calzada = document.getElementById("ddlCalzada").value;
            var CarrilxSentido = document.getElementById("ddlCarrilxSentido").value;
            var NumSentido = document.getElementById("ddlNumSentido").value;

            obtenerFactorDistrib(Calzada, NumSentido, CarrilxSentido);

        });



        $("#btnGuardarFdxFc").click(function () {

            var FdxFc_Calculado = document.getElementById("FdxFc_Calculado").value;
            var FdxFc_Ingresado = document.getElementById("FdxFc_Ingresado").value;





            if (FdxFc_Ingresado != '') {
                //document.getElementById("FdxFc").value = document.getElementById("FdxFc_Calculado").value;
                document.getElementById("FdxFc").value = document.getElementById("FdxFc_Ingresado").value;

                $("#SubModal_2 .close").click();
            } else
                if (FdxFc_Calculado != '') {
                    //document.getElementById("FdxFc").value = document.getElementById("FdxFc_Ingresado").value;
                    document.getElementById("FdxFc").value = document.getElementById("FdxFc_Calculado").value;

                    $("#SubModal_2 .close").click();
                } else {
                    return;
                }

            var objPropFactorDistribucion = {};
            objPropFactorDistribucion["Numero_Calzada"] = document.getElementById("ddlCalzada").value;
            objPropFactorDistribucion["Numero_Sentido"] = document.getElementById("ddlNumSentido").value;
            objPropFactorDistribucion["Numero_Carril_x_Sentido"] = document.getElementById("ddlCarrilxSentido").value;
            objPropFactorDistribucion["Valor_Distrib_Calculado"] = document.getElementById("FdxFc_Calculado").value;
            objPropFactorDistribucion["Valor_Distrib_Ingresado"] = document.getElementById("FdxFc_Ingresado").value;

            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/GuardarFdxFc',
                    data: { 'objPropFactorDistribucion': objPropFactorDistribucion },
                    success: function (respuesta) {

                        document.getElementById("hidId_Prop_Factor_Distrib").value = respuesta;

                    },
                    error: function (xhr, status) {
                        alert("ERROR");
                    }

                });



        });

        $("#btnAceptarTasa").click(function () {

            var TasaCrecimiento = document.getElementById("ddlTasaCrecimiento").value;

            if (TasaCrecimiento == 1) {
                //alert("Valor Constante");
                redireccionar(1)
                $("#SubModal_4 .close").click();

            } else if (TasaCrecimiento == 2) {
                //alert("Variable por Tiempo");
                redireccionar(2)
                $("#SubModal_4 .close").click();
            } else if (TasaCrecimiento == 3) {
                //alert("Variable por Vehiculo");
                redireccionar(3)
                $("#SubModal_4 .close").click();
            }


        });



        $("#btnNuevo").click(function () {

            $('#ddlTipoVehiculo').val(3);
            $('#ddlVehiculo').val(7);

            document.getElementById("ddlTipoEje_1").disabled = true;
            document.getElementById("ddlTipoEje_2").disabled = true;
            document.getElementById("ddlTipoEje_3").disabled = true;
            document.getElementById("ddlTipoEje_4").disabled = true;
            document.getElementById("ddlTipoEje_5").disabled = true;

            document.getElementById("txtPesoEje_1").disabled = true;
            document.getElementById("txtPesoEje_2").disabled = true;
            document.getElementById("txtPesoEje_3").disabled = true;
            document.getElementById("txtPesoEje_4").disabled = true;
            document.getElementById("txtPesoEje_5").disabled = true;

            document.getElementById("txtFVP").disabled = true;

            $('#ddlTipoEje_1').val(0);
            $('#ddlTipoEje_2').val(0);
            $('#ddlTipoEje_3').val(0);
            $('#ddlTipoEje_4').val(0);
            $('#ddlTipoEje_5').val(0);

            $('#txtPesoEje_1').val("");
            $('#txtPesoEje_2').val("");
            $('#txtPesoEje_3').val("");
            $('#txtPesoEje_4').val("");
            $('#txtPesoEje_5').val("");

            $('#txtFVP').val("");
            $('#txtIMDBase').val("");
            $('#txtIMDBase').focus();

            cambiaVehiculo($("#ddlTipoVehiculo").val());
        });



        $("#ddlTipoVehiculo").change(function () {

            document.getElementById("ddlTipoEje_1").disabled = true;
            document.getElementById("ddlTipoEje_2").disabled = true;
            document.getElementById("ddlTipoEje_3").disabled = true;
            document.getElementById("ddlTipoEje_4").disabled = true;
            document.getElementById("ddlTipoEje_5").disabled = true;

            document.getElementById("txtPesoEje_1").disabled = true;
            document.getElementById("txtPesoEje_2").disabled = true;
            document.getElementById("txtPesoEje_3").disabled = true;
            document.getElementById("txtPesoEje_4").disabled = true;
            document.getElementById("txtPesoEje_5").disabled = true;

            document.getElementById("txtFVP").disabled = true;

            $('#ddlTipoEje_1').val(0);
            $('#ddlTipoEje_2').val(0);
            $('#ddlTipoEje_3').val(0);
            $('#ddlTipoEje_4').val(0);
            $('#ddlTipoEje_5').val(0);

            $('#txtPesoEje_1').val("");
            $('#txtPesoEje_2').val("");
            $('#txtPesoEje_3').val("");
            $('#txtPesoEje_4').val("");
            $('#txtPesoEje_5').val("");

            $('#txtFVP').val("");
            $('#txtIMDBase').val("");
            $('#txtIMDBase').focus();

            cambiaVehiculo($("#ddlTipoVehiculo").val());

        });


        $("#ddlVehiculo").change(function () {


            var url_a = "/Content/images/vehiculos/";
            var veh = $("#ddlVehiculo :selected").text();
            var url_b = ".jpg";

            veh = veh.replace(/[">]/g, "");
            //alert(url_a + veh.replace(/ /g, "") + url_b);

            $("#img_vehiculo").attr("src", url_a + veh.replace(/ /g, "") + url_b);


            document.getElementById("txtPesoEje_1").disabled = true;
            document.getElementById("txtPesoEje_2").disabled = true;
            document.getElementById("txtPesoEje_3").disabled = true;
            document.getElementById("txtPesoEje_4").disabled = true;
            document.getElementById("txtPesoEje_5").disabled = true;

            document.getElementById("txtFVP").disabled = true;

            $('#txtPesoEje_1').val("");
            $('#txtPesoEje_2').val("");
            $('#txtPesoEje_3').val("");
            $('#txtPesoEje_4').val("");
            $('#txtPesoEje_5').val("");

            $('#txtFVP').val("");
            $('#txtIMDBase').val("");
            $('#txtIMDBase').focus();

            ObtenerCantidadEjes($("#ddlVehiculo").val());
        });

        cambiaVehiculo($("#ddlTipoVehiculo").val());




        $("#ddlTipoEje_1").change(function () {

            document.getElementById("txtPesoEje_1").disabled = false;
            ObtenerPesoEje($("#ddlVehiculo").val(), $("#ddlTipoEje_1").val(), 1);
            //CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");
        });

        $("#ddlTipoEje_2").change(function () {

            document.getElementById("txtPesoEje_2").disabled = false;
            ObtenerPesoEje($("#ddlVehiculo").val(), $("#ddlTipoEje_2").val(), 2);
            //CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });

        $("#ddlTipoEje_3").change(function () {

            document.getElementById("txtPesoEje_3").disabled = false;
            ObtenerPesoEje($("#ddlVehiculo").val(), $("#ddlTipoEje_3").val(), 3);
            //CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });

        $("#ddlTipoEje_4").change(function () {

            document.getElementById("txtPesoEje_4").disabled = false;
            ObtenerPesoEje($("#ddlVehiculo").val(), $("#ddlTipoEje_4").val(), 4);
            //CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });

        $("#ddlTipoEje_5").change(function () {

            document.getElementById("txtPesoEje_5").disabled = false;
            ObtenerPesoEje($("#ddlVehiculo").val(), $("#ddlTipoEje_5").val(), 5);
            //CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });


        $("#txtPesoEje_1").keyup(function (e) {

            CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });

        $("#txtPesoEje_2").keyup(function (e) {

            CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });

        $("#txtPesoEje_3").keyup(function (e) {

            CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });

        $("#txtPesoEje_4").keyup(function (e) {

            CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });


        $("#txtPesoEje_5").keyup(function (e) {

            CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

        });



        $("#txtPesoEje_1").focusout(function (e) {

            var PesoEje_1;
            PesoEje_1 = document.getElementById("txtPesoEje_1").value;

            if (PesoEje_1=='') {
                document.getElementById("txtPesoEje_1").value = 0;
            }

        });

        $("#txtPesoEje_2").focusout(function (e) {

            var PesoEje_2;
            PesoEje_2 = document.getElementById("txtPesoEje_2").value;

            if (PesoEje_2=='') {
                document.getElementById("txtPesoEje_2").value = 0;
            }
        });

        $("#txtPesoEje_3").focusout(function (e) {

            var PesoEje_3;
            PesoEje_3 = document.getElementById("txtPesoEje_3").value;

            if (PesoEje_3=='') {
                document.getElementById("txtPesoEje_3").value = 0;
            }
        });

        $("#txtPesoEje_4").focusout(function (e) {

            var PesoEje_4;
            PesoEje_4 = document.getElementById("txtPesoEje_4").value;

            if (PesoEje_4=='') {
                document.getElementById("txtPesoEje_4").value = 0;
            }

        });


        $("#txtPesoEje_5").focusout(function (e) {

            var PesoEje_5;
            PesoEje_5 = document.getElementById("txtPesoEje_5").value;

            if (PesoEje_5=='') {
                document.getElementById("txtPesoEje_5").value = 0;
            }
        });



        $("#btnGuardarVehiculoIMD").on("click", function (event) {

            var ipt = document.getElementById("FdxFc").value;
            var imdBase = document.getElementById("txtIMDBase").value;

            if (imdBase.length == 0) {
                toastr.error("Ingrese IMD BASE.", 'ASOCEM', { timeOut: 4500 });
                document.getElementById("txtIMDBase").focus();
                return;
            }

            if (ipt.length == 0) {
                $("#SubModal .close").click();
                toastr.error("Ingrese un valor Fd x Fc.", 'ASOCEM', { timeOut: 4500 });
                return;
            }

            var objRepeticionesEqui = {};
            objRepeticionesEqui["Id_Tasa_Crecimiento"] = document.getElementById("ddlTasaCrecimiento").value;
            objRepeticionesEqui["Dias_Diseno"] = document.getElementById("DiasAno").value;
            objRepeticionesEqui["FP"] = document.getElementById("Fp").value;
            objRepeticionesEqui["Tipo_Diseno"] = document.getElementById("hidTipoDiseno").value;
            objRepeticionesEqui["Periodo"] = document.getElementById("PeriodoDiseno").value;
            objRepeticionesEqui["Id_Prop_Factor_Distrib"] = document.getElementById("hidId_Prop_Factor_Distrib").value;


            var objVehiculosIMD = {};
            objVehiculosIMD["Id_Vehiculos"] = document.getElementById("ddlVehiculo").value;
            objVehiculosIMD["IMD_Base"] = document.getElementById("txtIMDBase").value;
            objVehiculosIMD["Tipo_Eje_E1"] = $("#ddlTipoEje_1 :selected").text();
            objVehiculosIMD["Peso_Tonelada_E1"] = document.getElementById("txtPesoEje_1").value;
            objVehiculosIMD["Tipo_Eje_E2"] = $("#ddlTipoEje_2 :selected").text();
            objVehiculosIMD["Peso_Tonelada_E2"] = document.getElementById("txtPesoEje_2").value;
            objVehiculosIMD["Tipo_Eje_E3"] = $("#ddlTipoEje_3 :selected").text();
            objVehiculosIMD["Peso_Tonelada_E3"] = document.getElementById("txtPesoEje_3").value;
            objVehiculosIMD["Tipo_Eje_E4"] = $("#ddlTipoEje_4 :selected").text();
            objVehiculosIMD["Peso_Tonelada_E4"] = document.getElementById("txtPesoEje_4").value;
            objVehiculosIMD["Tipo_Eje_E5"] = $("#ddlTipoEje_5 :selected").text();
            objVehiculosIMD["Peso_Tonelada_E5"] = document.getElementById("txtPesoEje_5").value;
            objVehiculosIMD["Valor_FVP"] = document.getElementById("txtFVP").value;
            objVehiculosIMD["Id_Diseno"] = document.getElementById("hidDisenoId").value; //Agregado
            //objVehiculosIMD["Valor_EE"] = ValorEEGenerado; //Agregado

            hid_Id_Repet_Equi = document.getElementById("hid_Id_Repet_Equi").value;


            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/GuardarVehiculosIMD',
                    data: { 'objVehiculosIMD': objVehiculosIMD, 'objRepeticionesEqui': objRepeticionesEqui, 'hid_Id_Repet_Equi': hid_Id_Repet_Equi },
                    success: function (respuesta) {
                        if (respuesta.length > 0) {
                            toastr.success("Los datos se guardarón correctamente.", 'ASOCEM', { timeOut: 2500 });

                            $('#dgvListadoVehiculosIMD').dataTable().fnDestroy();


                            if (document.getElementById("hid_Id_Repet_Equi").value == 0) {
                                document.getElementById("hid_Id_Repet_Equi").value = respuesta;
                            }

                            CargarListadoVehiculosIMD(respuesta); //Cargamos el DataTable

                            //Truco

                            strId_Repet_Equivalentes = respuesta;
                            //alert("Guardo vehiculo :" + strId_Repet_Equivalentes);


                            $("#SubModal .close").click();

                        }
                        else {
                            toastr.error("Ingrese los datos!", 'ERROR', { timeOut: 2000 });
                        }
                    },
                    error: function (xhr, status) {
                        toastr.error(status, 'ERROR', { timeOut: 2000 });
                    }

                });



        });


        //Funcion solo Número
        $('.input-number').on('input', function () {
            this.value = this.value.replace(/[^.0-9]/g, '');
        });
        //Funcion solo Número




        //SECCION COEFICIENTES

        $("#btnCoefConcrAsfal").click(function () {

            var CoefConcrAsfalModal = document.getElementById("txtCoefConcrAsfalModal").value;

            if (CoefConcrAsfalModal.length > 0) {
                document.getElementById("txtCoefConcrAsfal").value = CoefConcrAsfalModal;
                $("#ConcretoAsfalticoModal .close").click();
            } else { return; }


        });

        $("#btnBaseGranular").click(function () {

            var BaseGranularModal = document.getElementById("txtBaseGranularModal").value;

            if (BaseGranularModal.length > 0) {
                document.getElementById("txtBaseGranulara2").value = BaseGranularModal;
                $("#BaseGranularModal .close").click();
            } else { return; }


        });

        $("#btnSubBase").click(function () {

            var SubBasea3Modal = document.getElementById("txtSubBasea3Modal").value;

            if (SubBasea3Modal.length > 0) {
                document.getElementById("txtSubBasea3").value = SubBasea3Modal;
                $("#SubBaseModal .close").click();
            } else { return; }


        });


        //txtCBR_1 - txtCBR_2
        ObtenerCoeficienteA2(document.getElementById("txtCBR_1").value);
        ObtenerCoeficienteA3(document.getElementById("txtCBR_2").value);




        //CargarListadoVehiculosIMD();
        CargarTiempoDrenaje();
        CargarPorcentajeDrenaje();






        //en prueba
        ObtenerCoefDrenajeBase();
        ObtenerCoefDrenajeSubBase();


        GenerarTasaCrecxVehiculo();


        $("#ddlCalidadDrenaje").change(function () {

            if (document.getElementById("txtPorcDrenajeBaseIng").value.length > 0) {
                ObtenerCoefDrenajeBase();
            } else {
                toastr.error("Ingrese Porcentaje de Saturación!", 'ERROR', { timeOut: 2000 });
                return;
            }

        });

        $("#ddlCalidadDrenajeSubBase").change(function () {

            if (document.getElementById("txtPorcDrenajeSubBaseIng").value.length > 0) {
                ObtenerCoefDrenajeSubBase();
            } else {
                toastr.error("Ingrese Porcentaje de Saturación!", 'ERROR', { timeOut: 2000 });
                return;
            }

        });


        $("#txtPorcDrenajeBaseIng").focusout(function (e) {

            if (document.getElementById("txtPorcDrenajeBaseIng").value.length > 0) {
                ObtenerCoefDrenajeBase();
            } else {
                toastr.error("Ingrese Porcentaje de Saturación!", 'ERROR', { timeOut: 2000 });
                return;
            }

        });

        $("#txtPorcDrenajeSubBaseIng").focusout(function (e) {

            if (document.getElementById("txtPorcDrenajeSubBaseIng").value.length > 0) {
                ObtenerCoefDrenajeSubBase();
            } else {
                toastr.error("Ingrese Porcentaje de Saturación!", 'ERROR', { timeOut: 2000 });
                return;
            }

        });


        $("#btnFinalizaCoeficientes").click(function () {


            if (document.getElementById("txtPorcDrenajeInput").value.length > 0) {
                document.getElementById("txtBaseGranularm2").value = document.getElementById("txtPorcDrenajeInput").value;
            } else {
                document.getElementById("txtBaseGranularm2").value = document.getElementById("txtPorcDrenajeBase").value;
            }


            if (document.getElementById("txtPorcDrenajeSubBaseInput").value.length > 0) {
                document.getElementById("txtSubBasem3").value = document.getElementById("txtPorcDrenajeSubBaseInput").value;
            } else {
                document.getElementById("txtSubBasem3").value = document.getElementById("txtPorcDrenajeSubBase").value;
            }

            $("#infoDrenajePrincipalModal .close").click();

        });




        $("#ddlEspesor").change(function () {

            varEspesor = document.getElementById("ddlEspesor").value;
            varPresion = document.getElementById("ddlPresion").value;

            obtenerFpCalculado(varEspesor, varPresion)

        });

        $("#ddlPresion").change(function () {

            varEspesor = document.getElementById("ddlEspesor").value;
            varPresion = document.getElementById("ddlPresion").value;

            obtenerFpCalculado(varEspesor, varPresion)

        });


        $("#btnAceptarFp").click(function () {

            var FpCalculado = document.getElementById("txtFpCalculado").value;
            var FpIngresado = document.getElementById("txtvalorFp").value;

            if (FpIngresado.length > 0) {
                document.getElementById("Fp").value = FpIngresado;
            } else { document.getElementById("Fp").value = FpCalculado; }

            $("#SubModal_3 .close").click();

        });

        obtenerFpCalculado(document.getElementById("ddlEspesor").value, document.getElementById("ddlPresion").value)


        CargarVariableTiempo();
        CargarVariableVehiculo();





        $("#btnAgregarTasaCrecxTiempo").click(function () {

            //GenerarTasaCrecxTiempo(0);
            ActualizarTasaCrecxTiempo();

        });

        $("#btnAgregarTasaCrecxVehiculo").click(function () {

            //GenerarTasaCrecxVehiculo();
            ActualizarTasaCrecxVehiculo();

        });


        $("#btnAceptarTasaCrecConstante").click(function () {

            var input = document.getElementById("ValorTasaCrecConstante").value;

            if (input.length > 0) {

                GenerarTasaCrecConstante();

                document.getElementById("TasaCrecimiento").value = $("#ddlTasaCrecimiento :selected").text().trim();
                $('#lblTasaCrecimiento').html('Tasa de Crecimiento (' +  document.getElementById("ValorTasaCrecConstante").value + ' %) :');
                $("#SubModal_VariableConstante .close").click();

                //document.getElementById("ValorTasaCrecConstante").value = ""; //Limpieza
            } else {
                toastr.error("Ingrese un valor.", 'ASOCEM', { timeOut: 2500 });
                return;
            }

        });

        $("#btnAceptarTasaCrecxTiempo").click(function () {

            document.getElementById("TasaCrecimiento").value = $("#ddlTasaCrecimiento :selected").text().trim();
            var result = document.getElementById("ValorTotalCrecxTiempo").value;
            $('#lblTasaCrecimiento').html('Tasa de Crecimiento (' +  result + ' %) :');
            $("#SubModal_VariableTiempo .close").click();
        });


        $("#btnAceptarTasaCrecxVehiculo").click(function () {

            document.getElementById("TasaCrecimiento").value = $("#ddlTasaCrecimiento :selected").text().trim();
            var result = document.getElementById("ValorTotalCrecxVehiculo").value;
            $('#lblTasaCrecimiento').html('Tasa de Crecimiento (' + result + ' %) :');
            $("#SubModal_VariableVehiculo .close").click();
        });





        $("#btnCalcularEE").click(function () {

            $(this).html(`<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Calculando...`);

            var objMatrizTasaCrecimiento = {};
            objMatrizTasaCrecimiento["Id_Diseno"] = document.getElementById("hidDisenoId").value;;
            objMatrizTasaCrecimiento["Nro_Anio"] = parseInt($("#ddlPeriodoDisenoParam :selected").text());

            idTipoTasaCrec = document.getElementById("ddlTasaCrecimiento").value;
            FDxFC = document.getElementById("FdxFc").value;
            Fp = document.getElementById("Fp").value;


            $.ajax
                ({
                    method: 'POST',
                    url: '/ParametrosConcreto/CalculoEE',
                    data: { 'objMatrizTasaCrecimiento': objMatrizTasaCrecimiento, 'idTipoTasaCrec': idTipoTasaCrec, 'FDxFC': FDxFC, 'Fp': Fp, 'Id_Repet_Eq':strId_Repet_Equivalentes },
                    success: function (respuesta) {
                        if (respuesta.length > 0) {

                            //alert(respuesta);
                            document.getElementById("ValorGeneradoEE").innerHTML = 'VALOR EE: ' + Number(respuesta).toFixed(2);//roundNumber(respuesta);

                            //alert(roundNumber(respuesta));
                            document.getElementById("txtCantidadESAL").value = Number(respuesta).toFixed(2);//roundNumber(respuesta);
                            //$("#Esal_Modal .close").click();


                            $('#dgvListadoVehiculosIMD').dataTable().fnDestroy();
                            CargarListadoVehiculosIMD(strId_Repet_Equivalentes);



                            $('#btnCalcularEE').html(`<span class="fa fa-spinner"></span> Calcular EE`);





                        }
                        else {
                            toastr.error("Ingrese los datos!", 'ERROR', { timeOut: 2000 });
                        }
                    },
                    error: function (xhr, status) {
                        toastr.error(status, 'ERROR', { timeOut: 2000 });
                    }

                });

        });




        LimpiarVariableTiempo();
        //GenerarTasaCrecxTiempo(1);

    });


    function filterFloat(evt,input){
        // Backspace = 8, Enter = 13, ‘0′ = 48, ‘9′ = 57, ‘.’ = 46, ‘-’ = 43
        var key = window.Event ? evt.which : evt.keyCode;
        var chark = String.fromCharCode(key);
        var tempValue = input.value+chark;
        if(key >= 48 && key <= 57){
            if(filter(tempValue)=== false){
                return false;
            }else{
                return true;
            }
        }else{
              if(key == 8 || key == 13 || key == 0) {
                  return true;
              }else if(key == 46){
                    if(filter(tempValue)=== false){
                        return false;
                    }else{
                        return true;
                    }
              }else{
                  return false;
              }
        }
    }

    function filter(__val__){
        var preg = /^([0-9]+\.?[0-9]{0,3})$/;
        if(preg.test(__val__) === true){
            return true;
        }else{
           return false;
        }

    }


    function DiferenciaServicialidad() {
        strServInicial = document.getElementById("txtServInicial").value;
        strServFinal = document.getElementById("txtServFinal").value;

        if (strServInicial == '') {
            toastr.warning("Ingrese Servicialidad Inicial!", 'ALERTA', { timeOut: 2000 });
            return;
        }

        if (strServFinal == '') {
            toastr.warning("Ingrese Servicialidad Final!", 'ALERTA', { timeOut: 2000 });
            return;
        }

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/CalcularDifServiciabilidad',
                data: { 'ServInicial': strServInicial, 'ServFinal': strServFinal },
                success: function (respuesta) {

                    //alert(respuesta);

                    document.getElementById("txtDifServ").value = respuesta;
                },
                error: function (xhr, status) {
                    alert("PLOP");
                }

            });
    }

    function bootstrapTabControl() {
        var i, items = $('.nav-link'), pane = $('.tab-pane');
        // next
        $('.nexttab').on('click', function () {
            for (i = 0; i < pane.length; i++) {

                if ($(pane[i]).hasClass('active') == true) {
                    break;
                }
            }

            for (j = 0; j < items.length; j++) {

                if ($(items[j]).hasClass('active') == true) {
                    break;
                }
            }

            //alert("items: " + j);
            //alert("pane: " + i);

            //if (i < items.length - 1) {
            if (i + 1 <= 2) {
                // for tab
                $(items[j]).removeClass('active');
                $(items[j + 1]).addClass('active');
                // for pane
                $(pane[i]).removeClass('show active');
                $(pane[i + 1]).addClass('show active');
            }

        });
        // Prev
        $('.prevtab').on('click', function () {
            for (i = 0; i < pane.length; i++) {
                if ($(pane[i]).hasClass('active') == true) {
                    break;
                }
            }

            for (j = 0; j < items.length; j++) {
                if ($(items[j]).hasClass('active') == true) {
                    break;
                }
            }


            if (i != 0) {
                // for tab
                $(items[j]).removeClass('active');
                $(items[j - 1]).addClass('active');
                // for pane
                $(pane[i]).removeClass('show active');
                $(pane[i - 1]).addClass('show active');
            }
        });
    }

    function obtenerFactorDistrib(Calzada, NumSentido, CarrilxSentido) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ListarValorFactorDistrib',
                data: { 'Numero_Calzada': Calzada, 'Numero_Sentido': NumSentido, 'Numero_Carril_x_Sentido': CarrilxSentido },
                success: function (respuesta) {

                    if (respuesta != '') {
                        var obj = (typeof respuesta) == 'string' ? eval('(' + respuesta + ')') : respuesta;

                        $.each(obj, function (i, item) {

                            if (item.Valor_Distrib_Calculado != '') {
                                document.getElementById("FdxFc_Calculado").value = item.Valor_Distrib_Calculado.toFixed(2);
                            } else {
                                document.getElementById("FdxFc_Calculado").value = '';
                            }

                            if (item.url_img != '' || item.url_img.length > 0) {
                                $("#img_calzadacarril").attr("src", item.url_img);
                            } else {
                                $("#img_calzadacarril").attr("src", "/Content/images/calzadas/NoImage.png");
                            }

                        });
                    } else {
                        document.getElementById("FdxFc_Calculado").value = '';
                        $("#img_calzadacarril").attr("src", "/Content/images/calzadas/NoImage.png");

                        document.getElementById("FdxFc_Ingresado").focus();
                        toastr.warning("Combinacion NO PERMITIDA!", 'ALERTA', { timeOut: 2000 });

                    }

                },
                error: function (xhr, status) {
                    alert("PLOP");
                }

            });

    }

    function cambiaVehiculo(idTipoVehiculo) {
        // var dd2 = document.getElementById("idIngeniero");
        //alert(dd2.value);
        var dd = document.getElementById("ddlVehiculo");

        dd.options.length = 0;
        dd.options[0] = new Option("Espere...");
        dd.selectedIndex = 0;
        dd.disabled = true;

        // Control de errores
        $("#ddlVehiculo").ajaxError(function (event, request, settings) {
            dd.options[0] = new Option("TipoVehiculo incorrecto");
        });


        var objData = {};
        objData["idTipoVehiculo"] = idTipoVehiculo;

        $.ajax({
            type: "POST",
            url: '/ParametrosConcreto/ListaVehiculo',
            data: JSON.stringify(objData),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (Vehiculos) {

                var obj = (typeof Vehiculos) == 'string' ? eval('(' + Vehiculos + ')') : Vehiculos;

                $.each(obj, function (i, item) {

                    dd.options[i] = new Option(item.Vehiculos, item.Id_Vehiculos);

                });


                dd.disabled = false;

                var url_a = "/Content/images/vehiculos/";
                var veh = $("#ddlVehiculo :selected").text();
                var url_b = ".jpg";

                veh = veh.replace(/[">]/g, "");
                //alert(url_a + veh.replace(/ /g, "") + url_b);

                $("#img_vehiculo").attr("src", url_a + veh.replace(/ /g, "") + url_b);


                //Pruebita

                document.getElementById("txtPesoEje_1").disabled = true;
                document.getElementById("txtPesoEje_2").disabled = true;
                document.getElementById("txtPesoEje_3").disabled = true;
                document.getElementById("txtPesoEje_4").disabled = true;
                document.getElementById("txtPesoEje_5").disabled = true;

                document.getElementById("txtFVP").disabled = true;

                $('#txtPesoEje_1').val("");
                $('#txtPesoEje_2').val("");
                $('#txtPesoEje_3').val("");
                $('#txtPesoEje_4').val("");
                $('#txtPesoEje_5').val("");

                $('#txtFVP').val("");
                $('#txtIMDBase').val("");
                $('#txtIMDBase').focus();

                ObtenerCantidadEjes($("#ddlVehiculo").val());

                //Pruebita



            }

        });
    }





    function ObtenerCantidadEjes(idVehiculo) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ObtenerCantidadEjes',
                data: { 'idVehiculo': idVehiculo },
                success: function (respuesta) {

                    for (var i = 1; i <= respuesta; i++) {
                        document.getElementById("ddlTipoEje_" + i).disabled = true;

                        cambiaEjexVehiculo(idVehiculo, i)
                    }

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }

    function ObtenerPesoEje(idVehiculo, idEje, a) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ListarEjesPeso',
                data: { 'idVehiculo': idVehiculo, 'idEje': idEje },
                success: function (respuesta) {

                    document.getElementById("txtPesoEje_" + a).value = respuesta;


                    CalcularFVP($("#ddlTipoVehiculo").val(), $("#ddlVehiculo").val(), "ASFALTO");

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }

    function cambiaEjexVehiculo(idVehiculo, i) {
        var dd = document.getElementById("ddlTipoEje_" + i);
        var ff = document.getElementById("txtPesoEje_" + i);


        dd.options.length = 0;
        dd.options[0] = new Option("Espere...");
        dd.selectedIndex = 0;
        dd.disabled = true;

        // Control de errores
        $("ddlTipoEje_" + i).ajaxError(function (event, request, settings) {
            dd.options[0] = new Option("TipoEje incorrecto");
        });


        var objData = {};
        objData["idVehiculo"] = idVehiculo;

        $.ajax({
            type: "POST",
            url: '/ParametrosConcreto/ListarEjesxVehiculo',
            data: JSON.stringify(objData),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (TipoEje) {

                var obj = (typeof TipoEje) == 'string' ? eval('(' + TipoEje + ')') : TipoEje;

                $.each(obj, function (x, item) {

                    dd.options[x] = new Option(item.Valor, item.Id_Eje);

                });

                //alert(dd.value);
                ObtenerPesoEje($("#ddlVehiculo").val(), dd.value, i);

                ff.disabled = false;
                dd.disabled = false;
            }


        });

    }

    function CalcularFVP(idTipoVehiculo, idVehiculo, TipoDiseno) {


        PesoE1 = document.getElementById("txtPesoEje_1").value;
        PesoE2 = document.getElementById("txtPesoEje_2").value;
        PesoE3 = document.getElementById("txtPesoEje_3").value;
        PesoE4 = document.getElementById("txtPesoEje_4").value;
        PesoE5 = document.getElementById("txtPesoEje_5").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/CalcularFVP',
                data: { 'idTipoVehiculo': idTipoVehiculo, 'idVehiculo': idVehiculo, 'TipoDiseno': TipoDiseno, 'PesoE1': PesoE1, 'PesoE2': PesoE2, 'PesoE3': PesoE3, 'PesoE4': PesoE4, 'PesoE5': PesoE5 },
                success: function (respuesta) {

                    document.getElementById("txtFVP").value = respuesta;//Number(respuesta).toFixed(10);

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }


    function ObtenerCoeficienteA2(valorCBRBase) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/CoeficienteA2',
                data: { 'valorCBRBase': valorCBRBase },
                success: function (respuesta) {

                    document.getElementById("txta2").value = respuesta;

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }

    function ObtenerCoeficienteA3(valorCBRSubBase) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/CoeficienteA3',
                data: { 'valorCBRSubBase': valorCBRSubBase },
                success: function (respuesta) {

                    document.getElementById("txta3").value = respuesta;

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }




    function CargarListadoVehiculosIMD(Id_Repet_Equivalentes) {

        var objData = {};
        objData["Id_Repet_Equivalentes"] = Id_Repet_Equivalentes;

        table =
            $('#dgvListadoVehiculosIMD').dataTable({
                "searching": false,
                "scrollY": 200,
                "scrollCollapse": true,
                "scrollX": true,
                "paging": false,
                "info": false,

                "ajax": {
                    "url": "/ParametrosConcreto/CargarListadoVehiculosIMD",
                    "type": "POST",
                    "data": objData,
                    "dataType": "json"
                },
                "columnDefs": [
                    { "targets": [0], "visible": false },
                    { "targets": [1], "visible": false },
                    { "targets": [2], "visible": false },
                    { "targets": [3], "visible": false }
                ],
                "columns": [
                    { "data": "Id_Vehiculos_IMD", "class": "text-bold text-center" },       //Oculto
                    { "data": "Id_Diseno", "class": "text-bold text-center" },              //Oculto
                    { "data": "Id_Repet_Equivalentes", "class": "text-bold text-center" },  //Oculto

                    { "data": "Id_Vehiculos", "class": "text-bold text-center" },
                    {
                        data: null,
                        className: "text-center",
                        "render": function (data) {
                            var strDiv;
                            if (data.ruta_imagen != 0) {
                                strDiv = '<div><img id="img_vehiculoIMD" src=\'' + data.ruta_imagen + '\' width="80" height="60" class=""></div> ';

                            }
                            else {
                                strDiv = '';
                            }
                            return strDiv;
                        }
                    },
                    { "data": "Vehiculos", "class": "text-center" },
                    { "data": "IMD_Base", "class": "text-center" },
                    { "data": "Tipo_Eje_E1", "class": "text-center" },
                    { "data": "Peso_Tonelada_E1", "class": "text-center" },
                    { "data": "Tipo_Eje_E2", "class": "text-center" },
                    { "data": "Peso_Tonelada_E2", "class": "text-center" },
                    { "data": "Tipo_Eje_E3", "class": "text-center" },
                    { "data": "Peso_Tonelada_E3", "class": "text-center" },
                    { "data": "Tipo_Eje_E4", "class": "text-center" },
                    { "data": "Peso_Tonelada_E4", "class": "text-center" },
                    { "data": "Tipo_Eje_E5", "class": "text-center" },
                    { "data": "Peso_Tonelada_E5", "class": "text-center" },

                    {
                        data: 'Valor_FVP',
                        className: "text-center",
                        render: $.fn.dataTable.render.number(',', '.', 3, '')
                    },

                    {
                        data: 'Valor_EE',
                        className: "text-center",
                        render: $.fn.dataTable.render.number(',', '.', 2, '')
                    },

                    {
                        data: null,
                        className: "text-center",
                        "render": function (data) {
                            var strDiv;
                            if (data.Id_Vehiculos_IMD != 0) {
                                strDiv = '<button type="button" id="btnEliminarVehiculoIMD" onclick="EliminarVehiculoIMD(\'' + data.Id_Vehiculos_IMD + '\',\'' + data.Id_Diseno + '\',\'' + data.Id_Repet_Equivalentes + '\' );" class="btn btn-outline-danger" data-toggle="modal" data-target="#deleteModal"><span class="icon-close"></span></button>';
                            }
                            else {
                                strDiv = '';
                            }
                            return strDiv;
                        }
                    }

                ],

                //"lengthMenu": [[3, -1], [3, "Todo"]],
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }

            });


        //para seleccionar una opcion
        $('#dgvListadoVehiculosIMD tbody').on('click', 'tr', function () {

            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            }
            else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        });



    }

    function EliminarVehiculoIMD(Id_Vehiculos_IMD, Id_Diseno, Id_Repet_Equivalentes) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/EliminarVehiculosIMD',
                data: { 'Id_Vehiculos_IMD': Id_Vehiculos_IMD, 'Id_Diseno': Id_Diseno, 'Id_Repet_Equivalentes': Id_Repet_Equivalentes },
                success: function (respuesta) {
                    if (respuesta.length > 0) {
                        //toastr.success("Los datos se guardarón correctamente.", 'ASOCEM', { timeOut: 2500 });

                        //alert("Aqui" + respuesta);

                        $('#dgvListadoVehiculosIMD').dataTable().fnDestroy();

                        CargarListadoVehiculosIMD(respuesta); //Cargamos el DataTable

                    }
                    else {
                        toastr.error("Datos NO BORRADOS!", 'ERROR', { timeOut: 2000 });
                    }
                },
                error: function (xhr, status) {
                    toastr.error(status, 'ERROR', { timeOut: 2000 });
                }

            });

    }



    function CargarTiempoDrenaje() {

        var objData = {};
        objData["Id"] = 0;

        table =
            $('#dgvDrenajeTiempo').dataTable({
                "searching": false,
                //"scrollY": 200,
                //"scrollCollapse": true,
                //"scrollX": true,
                "paging": false,
                "info": false,

                "ajax": {
                    "url": "/ParametrosConcreto/CargarTiempoDrenaje",
                    "type": "POST",
                    "data": objData,
                    "dataType": "json"
                },
                /*"columnDefs": [
                    { "targets": [0], "visible": false, "searchable": false }

                ],*/
                "columns": [
                    //{ "data": "Id_Tiempo_Elim_Agua", "class": "text-bold text-center" },
                    { "data": "CalidadDrenaje", "class": "text-left" },
                    { "data": "EliminaTiempoElimAgua", "class": "text-left" }
                ],

                //"lengthMenu": [[3, -1], [3, "Todo"]],
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }

            });


        //para seleccionar una opcion
        $('#dgvDrenajeTiempo tbody').on('click', 'tr', function () {

            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            }
            else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        });



    }

    function CargarPorcentajeDrenaje() {

        var objData = {};
        objData["Id"] = 0;

        table =
            $('#dgvDrenajePorcentaje').dataTable({
                "searching": false,
                //"scrollY": 200,
                //"scrollCollapse": true,
                //"scrollX": true,
                "paging": false,
                "info": false,

                "ajax": {
                    "url": "/ParametrosConcreto/CargarPorcentajeDrenaje",
                    "type": "POST",
                    "data": objData,
                    "dataType": "json"
                },
                /*"columnDefs": [
                    { "targets": [0], "visible": false, "searchable": false }

                ],*/
                "columns": [
                    //{ "data": "Id_Porc_Estruc_Pavimento", "class": "text-left" },
                    { "data": "CalidadDrenaje", "class": "text-center" },
                    { "data": "Desde_0", "class": "text-center" },
                    { "data": "Hasta_1", "class": "text-center" },
                    { "data": "Desde_1", "class": "text-center" },
                    { "data": "Hasta_5", "class": "text-center" },
                    { "data": "Desde_5", "class": "text-center" },
                    { "data": "Hasta_25", "class": "text-center" },
                    { "data": "Desde_25", "class": "text-center" },
                    { "data": "Hasta_Mas", "class": "text-center" }

                ],

                //"lengthMenu": [[3, -1], [3, "Todo"]],
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }

            });


        //para seleccionar una opcion
        $('#dgvDrenajePorcentaje tbody').on('click', 'tr', function () {

            if ($(this).hasClass('selected')) {
                $(this).removeClass('selected');
            }
            else {
                table.$('tr.selected').removeClass('selected');
                $(this).addClass('selected');
            }
        });



    }

    function ObtenerCoefDrenajeBase() {

        var IdCalidadDre, ValorPorcentaje, IDProyecto

        IdCalidadDre = document.getElementById("ddlCalidadDrenaje").value;
        ValorPorcentaje = document.getElementById("txtPorcDrenajeBaseIng").value;
        IDProyecto = document.getElementById("hidTipoDiseno").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ObtenerCoefDrenaje',
                data: { 'IdCalidadDre': IdCalidadDre, 'ValorPorcentaje': ValorPorcentaje, 'IDProyecto': IDProyecto },
                success: function (respuesta) {

                    document.getElementById("txtPorcDrenajeBase").value = respuesta;

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }

    function ObtenerCoefDrenajeSubBase() {

        var IdCalidadDre, ValorPorcentaje, IDProyecto

        IdCalidadDre = document.getElementById("ddlCalidadDrenajeSubBase").value;
        ValorPorcentaje = document.getElementById("txtPorcDrenajeSubBaseIng").value;
        IDProyecto = document.getElementById("hidTipoDiseno").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ObtenerCoefDrenaje',
                data: { 'IdCalidadDre': IdCalidadDre, 'ValorPorcentaje': ValorPorcentaje, 'IDProyecto': IDProyecto },
                success: function (respuesta) {

                    document.getElementById("txtPorcDrenajeSubBase").value = respuesta;

                },
                error: function (xhr, status) {
                    alert("ERROR");
                }

            });

    }


    function obtenerFpCalculado(Espesor, Presion) {

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/obtenerFpCalculado',
                data: { 'Espesor': Espesor, 'Presion': Presion },
                success: function (respuesta) {

                    if (respuesta != '') {

                        var obj = (typeof respuesta) == 'string' ? eval('(' + respuesta + ')') : respuesta;

                        $.each(obj, function (i, item) {
                            document.getElementById("txtFpCalculado").value = item.valorFP.toFixed(2);
                        });
                    } else {
                        document.getElementById("txtFpCalculado").value = '';
                    }

                },
                error: function (xhr, status) {
                    alert("PLOP");
                }

            });

    }


    function GenerarTasaCrecxTiempo(act) {

        var NroAnio = parseInt($("#ddlPeriodoDisenoParam :selected").text());
        var Valor = document.getElementById("ValorTasaCrecxTiempo").value;
        var IdDiseno = document.getElementById("hidDisenoId").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/GuardarCrecXTiempo',
                data: { 'NroAnio': NroAnio, 'Valor': Valor, 'IdDiseno': IdDiseno },
                success: function (respuesta) {
                    if (respuesta.length > 0) {
                        toastr.success("Los datos se guardarón correctamente.", 'ASOCEM', { timeOut: 2500 });

                        $('#dgvListadoVariableTiempo').dataTable().fnDestroy();

                        CargarVariableTiempo(); //Cargamos el DataTable

                        //$("#SubModal_VariableTiempo .close").click();

                    }
                    else {
                        toastr.error("Ingrese los datos!", 'ERROR', { timeOut: 2000 });
                    }
                },
                error: function (xhr, status) {
                    toastr.error(status, 'ERROR', { timeOut: 2000 });
                }

            });

    }

    function GenerarTasaCrecConstante() {

        var Valor = document.getElementById("ValorTasaCrecConstante").value;
        var IdDiseno = document.getElementById("hidDisenoId").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/GuardarCrecConstante',
                data: { 'Valor': Valor, 'IdDiseno': IdDiseno },
                success: function (respuesta) {
                    if (respuesta.length > 0) {
                        toastr.success("Los datos se guardarón correctamente.", 'ASOCEM', { timeOut: 2500 });

                        //$("#SubModal_VariableVehiculo .close").click();

                    }
                    else {
                        toastr.error("Ingrese los datos!", 'ERROR', { timeOut: 2000 });
                    }
                },
                error: function (xhr, status) {
                    toastr.error(status, 'ERROR', { timeOut: 2000 });
                }

            });

    }

    function GenerarTasaCrecxVehiculo() {

    var IdDiseno = document.getElementById("hidDisenoId").value;

    $.ajax
        ({
            method: 'POST',
            url: '/ParametrosConcreto/GenerarVariableVehiculo',
            data: { 'IdDiseno': IdDiseno },
            success: function (respuesta) {
                if (respuesta.length > 0) {

                    respuesta = respuesta;
                    //$('#dgvListadoVariableTiempo').dataTable().fnDestroy();
                    //CargarVariableVehiculo(); //Cargamos el DataTable

                }
                else {
                    toastr.error("Error al generar Periodos!", 'ERROR', { timeOut: 2000 });
                }
            },
            error: function (xhr, status) {
                toastr.error(status, 'ERROR', { timeOut: 2000 });
            }

        });

    }



    function ActualizarTasaCrecxTiempo() {

        var Id_Tasa_Crec_X_Tiempo = VariableTiempoId_Tasa_Crec_X_Tiempo;
        var NroAnio = VariableTiempoNroAnio;
        var IdDiseno = document.getElementById("hidDisenoId").value;
        var Valor = document.getElementById("ValorTasaCrecxTiempo").value;


        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ActualizarCrecXTiempo',
                data: { 'NroAnio': NroAnio, 'Valor': Valor, 'IdDiseno': IdDiseno, 'Id_Tasa_Crec_X_Tiempo': Id_Tasa_Crec_X_Tiempo },
                success: function (respuesta) {
                    if (respuesta.length > 0) {
                        toastr.success("Los datos se guardarón correctamente.", 'ASOCEM', { timeOut: 2500 });

                        $('#dgvListadoVariableTiempo').dataTable().fnDestroy();

                        CargarVariableTiempo(); //Cargamos el DataTable

                        $("#SubModal_EditorVariableTiempo .close").click();

                        document.getElementById("ValorTotalCrecxTiempo").value = respuesta;


                    }
                    else {
                        toastr.error("Ingrese los datos!", 'ERROR', { timeOut: 2000 });
                    }
                },
                error: function (xhr, status) {
                    toastr.error(status, 'ERROR', { timeOut: 2000 });
                }

            });

    }

    function ActualizarTasaCrecxVehiculo() {

        var Id_Tasa_Crec_X_Vehiculo = VariableVehiculoId_Tasa_Crec_X_Vehiculo;
        var Id_Tipo_Vehiculo = VariableVehiculoId_Tipo_Vehiculo;
        var Valor = document.getElementById("ValorTasaCrecxVehiculo").value;
        var IdDiseno = document.getElementById("hidDisenoId").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/ActualizarCrecXVehiculo',
                data: { 'Id_Tipo_Vehiculo': Id_Tipo_Vehiculo, 'Valor': Valor, 'IdDiseno': IdDiseno, 'Id_Tasa_Crec_X_Vehiculo': Id_Tasa_Crec_X_Vehiculo },
                success: function (respuesta) {
                    if (respuesta.length > 0) {
                        toastr.success("Los datos se guardarón correctamente.", 'ASOCEM', { timeOut: 2500 });

                        $('#dgvListadoVariableVehiculo').dataTable().fnDestroy();

                        CargarVariableVehiculo(); //Cargamos el DataTable

                        $("#SubModal_EditorVariableVehiculo .close").click();

                    }
                    else {
                        toastr.error("Ingrese los datos!", 'ERROR', { timeOut: 2000 });
                    }
                },
                error: function (xhr, status) {
                    toastr.error(status, 'ERROR', { timeOut: 2000 });
                }

            });

    }



    function LimpiarVariableTiempo() {

        var NroAnio =  $("#ddlPeriodoDisenoParam :selected").text();
        var IdDiseno = document.getElementById("hidDisenoId").value;

        $.ajax
            ({
                method: 'POST',
                url: '/ParametrosConcreto/LimpiarVariableTiempo',
                data: { 'NroAnio': NroAnio, 'IdDiseno': IdDiseno },
                success: function (respuesta) {
                    if (respuesta.length > 0) {

                        $('#dgvListadoVariableTiempo').dataTable().fnDestroy();
                        CargarVariableTiempo(); //Cargamos el DataTable

                        document.getElementById("ValorTotalCrecxTiempo").value = respuesta;

                    }
                    else {
                        toastr.error("Error al generar Periodos!", 'ERROR', { timeOut: 2000 });
                    }
                },
                error: function (xhr, status) {
                    toastr.error(status, 'ERROR', { timeOut: 2000 });
                }

            });

    }


    function CargarVariableTiempo() {

        var objData = {};
        objData["IdDiseno"] = document.getElementById("hidDisenoId").value; //Id_Diseno

        table =
            $('#dgvListadoVariableTiempo').dataTable({
                "searching": false,
                "scrollY": 300,
                "scrollCollapse": true,
                "scrollX": true,
                "paging": false,
                "info": false,

                "ajax": {
                    "url": "/ParametrosConcreto/CargarVariableTiempo",
                    "type": "POST",
                    "data": objData,
                    "dataType": "json"
                },
                "columnDefs": [
                    { "targets": [0], "visible": false }

                ],
                "columns": [
                    { "data": "Id_Tasa_Crec_X_Tiempo", "class": "text-center" },
                    { "data": "NroAnio", "class": "text-center" },
                    {
                        data: 'Valor',
                        className: "text-center",
                        render: $.fn.dataTable.render.number(',', '.', 2, '')
                    },
                    {
                        data: null,
                        className: "text-center",
                        "render": function (data) {
                            var strDiv;
                            var ValorA = data.Id_Tasa_Crec_X_Tiempo;
                            var ValorB = data.NroAnio;

                            strDiv = '<div class="btn-group btn-group-sm"><button type="button" id="ButtonEliminar" onclick="EditorVariableTiempo(\'' + ValorA + '\',\'' + ValorB + '\' );" data-toggle="modal" data-target="#SubModal_EditorVariableTiempo" class="btn btn-outline-primary"><span class="fa fa-pencil-square-o"></span></button></div>';
                            return strDiv;
                        }
                    }

                ],

                //"footerCallback": function ( row, data, start, end, display ) {

                //    total = this.api()
                //        .column(2)//numero de columna a sumar
                //        //.column(1, {page: 'current'})//para sumar solo la pagina actual
                //        .data()
                //        .reduce(function (a, b) {
                //            document.getElementById("ValorTotalCrecxTiempo").value = ((1 + parseFloat(a)) * (1 + parseFloat(b))).toFixed(2);
                //            return parseFloat(a) + parseFloat(b);
                //        }, 0 );

                //    $(this.api().column(2).footer()).html(total);

                //},

                //"lengthMenu": [[3, -1], [3, "Todo"]],
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }

            });


        //para seleccionar una opcion
        //$('#dgvListadoVariableTiempo tbody').on('click', 'tr', function () {

        //    if ($(this).hasClass('selected')) {
        //        $(this).removeClass('selected');
        //    }
        //    else {
        //        table.$('tr.selected').removeClass('selected');
        //        $(this).addClass('selected');
        //    }
        //});



    }

    function CargarVariableVehiculo() {

        var objData = {};
        objData["Id"] = document.getElementById("hidDisenoId").value; //Id_Diseno

        table =
            $('#dgvListadoVariableVehiculo').dataTable({
                "searching": false,
                "scrollY": 300,
                "scrollCollapse": true,
                "scrollX": true,
                "paging": false,
                "info": false,

                "ajax": {
                    "url": "/ParametrosConcreto/CargarVariableVehiculo",
                    "type": "POST",
                    "data": objData,
                    "dataType": "json"
                },
                "columnDefs": [
                    { "targets": [0], "visible": false, "searchable": false }

                ],
                "columns": [
                    { "data": "Id_Tasa_Crec_X_Vehiculo", "class": "text-center" },
                    { "data": "Vehiculo", "class": "text-center" },
                    {
                        data: 'Valor',
                        className: "text-center",
                        render: $.fn.dataTable.render.number(',', '.', 2, '')
                    },
                    {
                        data: null,
                        className: "text-center",
                        "render": function (data) {
                            var strDiv;
                            var ValorA = data.Id_Tasa_Crec_X_Vehiculo;
                            var ValorB = data.Id_Tipo_Vehiculo;

                            strDiv = '<div class="btn-group btn-group-sm"><button type="button" id="ButtonEliminar" onclick="EditorVariableVehiculo(\'' + ValorA + '\',\'' + ValorB + '\' );" data-toggle="modal" data-target="#SubModal_EditorVariableVehiculo" class="btn btn-outline-primary"><span class="fa fa-pencil-square-o"></span></button></div>';
                            return strDiv;

                        }
                    }
                ],

                "footerCallback": function ( row, data, start, end, display ) {

                    total = this.api()
                        .column(2)//numero de columna a sumar
                        //.column(1, {page: 'current'})//para sumar solo la pagina actual
                        .data()
                        .reduce(function (a, b) {
                            document.getElementById("ValorTotalCrecxVehiculo").value = ((parseFloat(a)) + (parseFloat(b))).toFixed(2);
                            return parseFloat(a) + parseFloat(b);
                        }, 0 );

                    $(this.api().column(2).footer()).html(total);

                },

                //"lengthMenu": [[3, -1], [3, "Todo"]],
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }

            });


        ////para seleccionar una opcion
        //$('#dgvListadoVariableVehiculo tbody').on('click', 'tr', function () {

        //    if ($(this).hasClass('selected')) {
        //        $(this).removeClass('selected');
        //    }
        //    else {
        //        table.$('tr.selected').removeClass('selected');
        //        $(this).addClass('selected');
        //    }
        //});



    }

    function EditorVariableTiempo(ValorA, ValorB) {
        //alert("Las variables a eliminar son :" + ValorA + " y " + ValorB);

        VariableTiempoId_Tasa_Crec_X_Tiempo = ValorA;
        VariableTiempoNroAnio = ValorB;
    }


    function EditorVariableVehiculo(ValorA, ValorB) {
        //alert("Las variables a eliminar son :" + ValorA + " y " + ValorB);

        VariableVehiculoId_Tasa_Crec_X_Vehiculo = ValorA;
        VariableVehiculoId_Tipo_Vehiculo = ValorB;
    }


    function redireccionar(Iden) {
        if (Iden == 1) {
            $("#btnIrVariableConstante").click();
            $('#ValorTasaCrecConstante').val("");
            $('#ValorTasaCrecConstante').focus();
        } else if (Iden == 2) {
            $("#btnIrVariableTiempo").click();
        } else if (Iden == 3) {
            $("#btnIrVariableVehiculo").click();
        }
    }

    function delimitNumbers(str) {
        return (str + "").replace(/\b(\d+)((\.\d+)*)\b/g,
            function (a, b, c) {
                return (b.charAt(0) > 0 && !(c || ".").lastIndexOf(".") ? b.replace(/(\d)(?=(\d{3})+$)/g, "$1,") : b) + c;
            });
    }

    function roundNumber(num) {
        //Respuesta de Rubén
        return Math.round(num * 100) / 100;
    }


    function redondeo(numero, decimales)
    {
        var flotante = parseFloat(numero);
        var resultado = Math.round(flotante*Math.pow(10,decimales))/Math.pow(10,decimales);
        return resultado;
    }

    bootstrapTabControl();
</script>





